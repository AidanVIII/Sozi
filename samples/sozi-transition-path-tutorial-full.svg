<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:ns1="http://sozi.baierouge.fr"
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="1062.9921"
   height="1062.9921"
   id="svg2"
   version="1.1"
   inkscape:version="0.48.4 r9939"
   sodipodi:docname="sozi-transition-path-tutorial-full.svg">
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4"
     inkscape:cx="524.05681"
     inkscape:cy="764.71017"
     inkscape:document-units="px"
     inkscape:current-layer="layer3"
     showgrid="false"
     inkscape:window-width="1280"
     inkscape:window-height="965"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     units="mm"
     showguides="true"
     inkscape:guide-bbox="true">
    <inkscape:grid
       id="grid2997"
       type="xygrid"
       empspacing="5"
       visible="true"
       enabled="true"
       snapvisiblegridlinesonly="true" />
  </sodipodi:namedview>
  <defs
     id="defs4">
    <linearGradient
       id="linearGradient4333">
      <stop
         style="stop-color:#008000;stop-opacity:1;"
         offset="0"
         id="stop4335" />
      <stop
         style="stop-color:#004800;stop-opacity:1;"
         offset="1"
         id="stop4337" />
    </linearGradient>
    <linearGradient
       id="linearGradient4269">
      <stop
         style="stop-color:#3f2311;stop-opacity:1;"
         offset="0"
         id="stop4271" />
      <stop
         id="stop4277"
         offset="0.5"
         style="stop-color:#5e361a;stop-opacity:1;" />
      <stop
         style="stop-color:#3f2411;stop-opacity:1;"
         offset="1"
         id="stop4273" />
    </linearGradient>
    <linearGradient
       id="linearGradient3769">
      <stop
         id="stop3771"
         offset="0"
         style="stop-color:#69a5ff;stop-opacity:1;" />
      <stop
         id="stop3773"
         offset="1"
         style="stop-color:#001432;stop-opacity:1;" />
    </linearGradient>
    <filter
       height="1.2638298"
       y="-0.13191488"
       width="1.2638298"
       x="-0.13191488"
       id="filter3787"
       inkscape:collect="always"
       color-interpolation-filters="sRGB">
      <feGaussianBlur
         id="feGaussianBlur3789"
         stdDeviation="1.6489362"
         inkscape:collect="always" />
    </filter>
    <linearGradient
       y2="382.02667"
       x2="544.43646"
       y1="328.45618"
       x1="373.01944"
       gradientUnits="userSpaceOnUse"
       id="linearGradient4057"
       xlink:href="#linearGradient3769"
       inkscape:collect="always" />
    <filter
       inkscape:collect="always"
       id="filter4261"
       color-interpolation-filters="sRGB">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="0.46057773"
         id="feGaussianBlur4263" />
    </filter>
    <linearGradient
       inkscape:collect="always"
       xlink:href="#linearGradient4269"
       id="linearGradient4275"
       x1="418"
       y1="749.9184"
       x2="445.01538"
       y2="749.9184"
       gradientUnits="userSpaceOnUse"
       gradientTransform="translate(115.71429,-534.72965)" />
    <filter
       inkscape:collect="always"
       id="filter4283"
       x="-0.030445689"
       width="1.0608914"
       y="-0.2251168"
       height="1.4502336"
       color-interpolation-filters="sRGB">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="1.0269308"
         id="feGaussianBlur4285" />
    </filter>
    <filter
       inkscape:collect="always"
       id="filter4311"
       x="-0.10651104"
       width="1.2130221"
       y="-0.10625522"
       height="1.2125103"
       color-interpolation-filters="sRGB">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="0.93102136"
         id="feGaussianBlur4313" />
    </filter>
    <radialGradient
       inkscape:collect="always"
       xlink:href="#linearGradient4333"
       id="radialGradient4341"
       cx="421.38898"
       cy="709.2193"
       fx="421.38898"
       fy="709.2193"
       r="41.581299"
       gradientTransform="matrix(1.0730919e-6,1.0822173,-1.5632029,1.5681795e-6,1654.3675,-293.40302)"
       gradientUnits="userSpaceOnUse" />
    <filter
       inkscape:collect="always"
       id="filter7544">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="0.53035713"
         id="feGaussianBlur7546" />
    </filter>
  </defs>
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:groupmode="layer"
     id="layer3"
     inkscape:label="Main"
     transform="translate(0,10.629915)"
     style="display:inline">
    <path
       transform="matrix(-2.1607043,2.7603215,-2.7603215,-2.1607043,2491.3785,-12.003524)"
       d="m 580,352.36218 c 0,71.79702 -58.20298,130 -130,130 -71.79702,0 -130,-58.20298 -130,-130 0,-71.79701 58.20298,-130 130,-130 71.79702,0 130,58.20299 130,130 z"
       sodipodi:ry="130"
       sodipodi:rx="130"
       sodipodi:cy="352.36218"
       sodipodi:cx="450"
       id="path2999"
       style="display:inline;fill:url(#linearGradient4057);fill-opacity:1;fill-rule:nonzero;stroke:none"
       sodipodi:type="arc" />
    <path
       transform="matrix(2.1437741e-4,-0.99999998,0.99999998,2.1437741e-4,503.44137,415.43914)"
       d="m 250,307.36218 c 0,8.28427 -6.71573,15 -15,15 -8.28427,0 -15,-6.71573 -15,-15 0,-8.28427 6.71573,-15 15,-15 8.28427,0 15,6.71573 15,15 z"
       sodipodi:ry="15"
       sodipodi:rx="15"
       sodipodi:cy="307.36218"
       sodipodi:cx="235"
       id="path3777"
       style="fill:#ffff37;fill-opacity:0.99610895;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter3787)"
       sodipodi:type="arc" />
    <path
       transform="matrix(0.81490412,0.57959578,-0.57959578,0.81490412,67.979815,-295.96146)"
       inkscape:connector-curvature="0"
       id="path3886"
       d="m 467.96875,271.92468 c -2.60503,2.69822 -4.21875,6.39075 -4.21875,10.4375 0,8.28427 6.71573,15 15,15 8.28427,0 15,-6.71573 15,-15 0,-0.6577 -0.0429,-1.30215 -0.125,-1.9375 -0.89161,6.73236 -6.64899,11.9375 -13.625,11.9375 -7.59391,0 -13.75,-6.15609 -13.75,-13.75 0,-2.42323 0.61837,-4.7104 1.71875,-6.6875 z"
       style="fill:#f9f9f9;fill-opacity:0.99610895;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter3787)" />
    <path
       transform="matrix(0.21804012,-0.09482083,0.09482083,0.21804012,187.79283,237.89482)"
       sodipodi:type="star"
       style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter4311)"
       id="path4287"
       sodipodi:sides="5"
       sodipodi:cx="230"
       sodipodi:cy="387.36218"
       sodipodi:r1="11.18034"
       sodipodi:r2="2.5194552"
       sodipodi:arg1="1.1071487"
       sodipodi:arg2="1.7354672"
       inkscape:flatsided="false"
       inkscape:rounded="0"
       inkscape:randomized="0"
       d="m 235,397.36218 -5.41301,-7.51462 -7.55247,5.36008 5.47412,-7.47023 -7.43158,-5.52647 8.79621,2.89777 2.9595,-8.77562 -0.0378,9.26114 9.26065,0.10284 -8.81955,2.82593 z"
       inkscape:transform-center-x="0.19967991"
       inkscape:transform-center-y="-0.056323061" />
    <path
       inkscape:transform-center-y="0.095743664"
       inkscape:transform-center-x="-0.16105693"
       d="m 235,397.36218 -5.41301,-7.51462 -7.55247,5.36008 5.47412,-7.47023 -7.43158,-5.52647 8.79621,2.89777 2.9595,-8.77562 -0.0378,9.26114 9.26065,0.10284 -8.81955,2.82593 z"
       inkscape:randomized="0"
       inkscape:rounded="0"
       inkscape:flatsided="false"
       sodipodi:arg2="1.7354672"
       sodipodi:arg1="1.1071487"
       sodipodi:r2="2.5194552"
       sodipodi:r1="11.18034"
       sodipodi:cy="387.36218"
       sodipodi:cx="230"
       sodipodi:sides="5"
       id="path4315"
       style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter4311)"
       sodipodi:type="star"
       transform="matrix(0.22938431,0.06257255,-0.06257255,0.22938431,258.28873,185.09804)" />
    <path
       transform="matrix(-0.02193682,0.23675148,-0.23675148,-0.02193682,403.56292,247.38917)"
       sodipodi:type="star"
       style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter4311)"
       id="path4317"
       sodipodi:sides="5"
       sodipodi:cx="230"
       sodipodi:cy="387.36218"
       sodipodi:r1="11.18034"
       sodipodi:r2="2.5194552"
       sodipodi:arg1="1.1071487"
       sodipodi:arg2="1.7354672"
       inkscape:flatsided="false"
       inkscape:rounded="0"
       inkscape:randomized="0"
       d="m 235,397.36218 -5.41301,-7.51462 -7.55247,5.36008 5.47412,-7.47023 -7.43158,-5.52647 8.79621,2.89777 2.9595,-8.77562 -0.0378,9.26114 9.26065,0.10284 -8.81955,2.82593 z"
       inkscape:transform-center-x="-0.046873532"
       inkscape:transform-center-y="0.20884381" />
    <path
       inkscape:transform-center-y="-0.05678827"
       inkscape:transform-center-x="0.19922032"
       d="m 235,397.36218 -5.41301,-7.51462 -7.55247,5.36008 5.47412,-7.47023 -7.43158,-5.52647 8.79621,2.89777 2.9595,-8.77562 -0.0378,9.26114 9.26065,0.10284 -8.81955,2.82593 z"
       inkscape:randomized="0"
       inkscape:rounded="0"
       inkscape:flatsided="false"
       sodipodi:arg2="1.7354672"
       sodipodi:arg1="1.1071487"
       sodipodi:r2="2.5194552"
       sodipodi:r1="11.18034"
       sodipodi:cy="387.36218"
       sodipodi:cx="230"
       sodipodi:sides="5"
       id="path4319"
       style="fill:#ffffff;fill-opacity:0.75875483;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter4311)"
       sodipodi:type="star"
       transform="matrix(0.21809405,-0.09469674,0.09469674,0.21809405,182.75144,181.44784)" />
    <path
       transform="matrix(0.21431093,0.10297238,-0.10297238,0.21431093,288.09966,151.76037)"
       sodipodi:type="star"
       style="fill:#ffffff;fill-opacity:0.77431904;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter4311)"
       id="path4321"
       sodipodi:sides="5"
       sodipodi:cx="230"
       sodipodi:cy="387.36218"
       sodipodi:r1="11.18034"
       sodipodi:r2="2.5194552"
       sodipodi:arg1="1.1071487"
       sodipodi:arg2="1.7354672"
       inkscape:flatsided="false"
       inkscape:rounded="0"
       inkscape:randomized="0"
       d="m 235,397.36218 -5.41301,-7.51462 -7.55247,5.36008 5.47412,-7.47023 -7.43158,-5.52647 8.79621,2.89777 2.9595,-8.77562 -0.0378,9.26114 9.26065,0.10284 -8.81955,2.82593 z"
       inkscape:transform-center-x="-0.012921211"
       inkscape:transform-center-y="0.24152449" />
    <path
       inkscape:transform-center-y="-0.25222733"
       inkscape:transform-center-x="0.0016998462"
       d="m 235,397.36218 -5.41301,-7.51462 -7.55247,5.36008 5.47412,-7.47023 -7.43158,-5.52647 8.79621,2.89777 2.9595,-8.77562 -0.0378,9.26114 9.26065,0.10284 -8.81955,2.82593 z"
       inkscape:randomized="0"
       inkscape:rounded="0"
       inkscape:flatsided="false"
       sodipodi:arg2="1.7354672"
       sodipodi:arg1="1.1071487"
       sodipodi:r2="2.5194552"
       sodipodi:r1="11.18034"
       sodipodi:cy="387.36218"
       sodipodi:cx="230"
       sodipodi:sides="5"
       id="path4323"
       style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter4311)"
       sodipodi:type="star"
       transform="matrix(0.03492444,-0.23518667,0.23518667,0.03492444,222.56896,323.2127)" />
    <path
       transform="matrix(0.16819019,0.16806114,-0.16806114,0.16819019,363.22566,194.53995)"
       sodipodi:type="star"
       style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter4311)"
       id="path4325"
       sodipodi:sides="5"
       sodipodi:cx="230"
       sodipodi:cy="387.36218"
       sodipodi:r1="11.18034"
       sodipodi:r2="2.5194552"
       sodipodi:arg1="1.1071487"
       sodipodi:arg2="1.7354672"
       inkscape:flatsided="false"
       inkscape:rounded="0"
       inkscape:randomized="0"
       d="m 235,397.36218 -5.41301,-7.51462 -7.55247,5.36008 5.47412,-7.47023 -7.43158,-5.52647 8.79621,2.89777 2.9595,-8.77562 -0.0378,9.26114 9.26065,0.10284 -8.81955,2.82593 z"
       inkscape:transform-center-x="0.24821726"
       inkscape:transform-center-y="-0.0059216965" />
    <path
       inkscape:transform-center-y="-0.1223386"
       inkscape:transform-center-x="-0.13465706"
       d="m 235,397.36218 -5.41301,-7.51462 -7.55247,5.36008 5.47412,-7.47023 -7.43158,-5.52647 8.79621,2.89777 2.9595,-8.77562 -0.0378,9.26114 9.26065,0.10284 -8.81955,2.82593 z"
       inkscape:randomized="0"
       inkscape:rounded="0"
       inkscape:flatsided="false"
       sodipodi:arg2="1.7354672"
       sodipodi:arg1="1.1071487"
       sodipodi:r2="2.5194552"
       sodipodi:r1="11.18034"
       sodipodi:cy="387.36218"
       sodipodi:cx="230"
       sodipodi:sides="5"
       id="path4327"
       style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter4311)"
       sodipodi:type="star"
       transform="matrix(0.23776561,0,0,0.23776561,222.81748,176.35857)" />
    <path
       transform="matrix(0.21809405,-0.09469674,0.09469674,0.21809405,185.16804,115.77859)"
       sodipodi:type="star"
       style="fill:#ffffff;fill-opacity:0.55252913;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter4311)"
       id="path4329"
       sodipodi:sides="5"
       sodipodi:cx="230"
       sodipodi:cy="387.36218"
       sodipodi:r1="11.18034"
       sodipodi:r2="2.5194552"
       sodipodi:arg1="1.1071487"
       sodipodi:arg2="1.7354672"
       inkscape:flatsided="false"
       inkscape:rounded="0"
       inkscape:randomized="0"
       d="m 235,397.36218 -5.41301,-7.51462 -7.55247,5.36008 5.47412,-7.47023 -7.43158,-5.52647 8.79621,2.89777 2.9595,-8.77562 -0.0378,9.26114 9.26065,0.10284 -8.81955,2.82593 z"
       inkscape:transform-center-x="0.19922032"
       inkscape:transform-center-y="-0.05678827" />
    <path
       inkscape:transform-center-y="0.24152449"
       inkscape:transform-center-x="-0.012921211"
       d="m 235,397.36218 -5.41301,-7.51462 -7.55247,5.36008 5.47412,-7.47023 -7.43158,-5.52647 8.79621,2.89777 2.9595,-8.77562 -0.0378,9.26114 9.26065,0.10284 -8.81955,2.82593 z"
       inkscape:randomized="0"
       inkscape:rounded="0"
       inkscape:flatsided="false"
       sodipodi:arg2="1.7354672"
       sodipodi:arg1="1.1071487"
       sodipodi:r2="2.5194552"
       sodipodi:r1="11.18034"
       sodipodi:cy="387.36218"
       sodipodi:cx="230"
       sodipodi:sides="5"
       id="path4331"
       style="fill:#ffffff;fill-opacity:0.44357976;fill-rule:nonzero;stroke:none;display:inline;filter:url(#filter4311)"
       sodipodi:type="star"
       transform="matrix(0.21431093,0.10297238,-0.10297238,0.21431093,307.26502,131.41863)" />
    <path
       sodipodi:type="arc"
       style="fill:#008000;fill-opacity:1;stroke:none;display:inline;filter:url(#filter7544)"
       id="path21119"
       sodipodi:cx="437.5"
       sodipodi:cy="369.77777"
       sodipodi:rx="106.07143"
       sodipodi:ry="106.07143"
       d="m 543.57143,369.77777 c 0,58.58163 -47.4898,106.07143 -106.07143,106.07143 -58.58163,0 -106.07143,-47.4898 -106.07143,-106.07143 0,-58.58163 47.4898,-106.07143 106.07143,-106.07143 58.58163,0 106.07143,47.4898 106.07143,106.07143 z"
       transform="matrix(2.2675013,0,0,2.2675013,-445.60316,-369.68091)" />
    <rect
       y="279.64841"
       x="-321.14838"
       height="239.75104"
       width="319.66806"
       id="rect-night"
       style="fill:none;stroke:#ff0000;stroke-width:1.33195019;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;display:inline"
       inkscape:label="#rect4059"
       transform="matrix(0.46427477,-0.88569122,0.88569122,0.46427477,0,0)" />
    <rect
       inkscape:label="#rect4059"
       style="fill:none;stroke:#ff0000;stroke-width:1.33195019;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;display:inline"
       id="rect-day"
       width="319.66806"
       height="239.75104"
       x="523.87573"
       y="-641.97443"
       transform="matrix(0.52167876,0.853142,-0.853142,0.52167876,0,0)" />
    <path
       sodipodi:nodetypes="csccccscc"
       inkscape:connector-curvature="0"
       id="path4199"
       d="m 519.46429,173.81253 c 0,0 -10.44867,-6.80659 -15,6.18 -2.57765,7.35499 7.5,12.36 7.5,12.36 0,0 16.33668,5.5148 26.25,6.18 0,6.18 31.5,4.944 37.5,-2.472 15.75,-4.944 7.5,-16.068 3.75,-16.068 0,0 3.79009,-13.07541 -15,-18.54 -12.75,-3.708 -18.75,6.18 -18.75,6.18 0,0 -18.75,-6.18 -26.25,6.18 z"
       style="fill:url(#radialGradient4341);fill-opacity:1;stroke:none;display:inline;filter:url(#filter4261)" />
    <path
       style="fill:#000000;fill-opacity:0.50194576;stroke:none;display:inline;filter:url(#filter4283)"
       d="m 405,777.97818 c 0,0 -10.44867,-1.77985 -15,1.616 -2.57765,1.92325 7.5,3.232 7.5,3.232 0,0 16.33668,1.44206 26.25,1.616 0,1.616 31.5,1.2928 37.5,-0.6464 15.75,-1.2928 7.5,-4.2016 3.75,-4.2016 0,0 3.79009,-3.41907 -15,-4.848 -12.75,-0.9696 -18.75,1.616 -18.75,1.616 0,0 -18.75,-1.616 -26.25,1.616 z"
       id="path4203"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="csccccscc"
       transform="matrix(1.2484861,0,0,-1.6996741,8.8955356,1571.3174)" />
    <path
       style="fill:url(#linearGradient4275);fill-opacity:1;stroke:none;display:inline"
       d="m 542.71429,233.63253 c 0.43769,-5.25225 0,-5.98078 0,-32 0,-6 -4,-15 -9,-19 0,0 1,1 3,0 0,0 6,10 9,10 3,0 4,-5 4,-5 0,0 0,1 3,0 -1,2 -4,3 -4,10 0,27 2,35 2,35 1,5 10.44721,9.10557 10,10 -1,2 -7.7889,-3.60555 -15,0 0,0 -9,6 -10,5 -1,-1 6,-1.99999 7,-14 z"
       id="path4201"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="sscccccscssss" />
    <path
       style="fill:none;stroke:#ff0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 282.14285,336.56349 c 108.57144,-204.28571 405.71429,-203.57142 525,-4.28571"
       id="path-night-to-day"
       inkscape:connector-curvature="0"
       transform="translate(0,-10.629915)"
       sodipodi:nodetypes="cc"
       inkscape:label="#path7548" />
  </g>
  <ns1:frame
     ns1:transition-path="path-night-to-day"
     id="frame2"
     ns1:transition-path-hide="true"
     ns1:transition-profile="linear"
     ns1:transition-zoom-percent="0.0"
     ns1:transition-duration-ms="1000.0"
     ns1:timeout-ms="5000.0"
     ns1:timeout-enable="false"
     ns1:clip="true"
     ns1:hide="true"
     ns1:sequence="2"
     ns1:title="Day"
     ns1:refid="rect-day" />
  <ns1:frame
     id="frame1"
     ns1:transition-path-hide="true"
     ns1:transition-profile="linear"
     ns1:transition-zoom-percent="0.0"
     ns1:transition-duration-ms="1000.0"
     ns1:timeout-ms="5000.0"
     ns1:timeout-enable="false"
     ns1:clip="true"
     ns1:hide="true"
     ns1:sequence="1"
     ns1:title="Night"
     ns1:refid="rect-night" />
  <script
     id="sozi-script"
     ns1:version="13.01-13180236">function namespace(t,e,i){&quot;use strict&quot;;var n=t;return e.split(&quot;.&quot;).forEach(function(t){n[t]===void 0&amp;&amp;(n[t]={}),n=n[t]}),i&amp;&amp;i(n,t),n}namespace(this,&quot;sozi.events&quot;,function(t){&quot;use strict&quot;;var e={};t.listen=function(t,i){e.hasOwnProperty(t)||(e[t]=[]),e[t].push(i)},t.fire=function(t){var i=Array.prototype.slice.call(arguments,1);e.hasOwnProperty(t)&amp;&amp;e[t].forEach(function(t){t.apply(null,i)})}}),namespace(this,&quot;sozi.location&quot;,function(t,e){&quot;use strict&quot;;function i(){var e=t.getFrameIndex();a||sozi.player.moveToFrame(e),a=!1}function n(t){a=!0,e.location.hash=&quot;#&quot;+sozi.document.frames[t].id}function r(){sozi.events.listen(&quot;sozi.player.framechange&quot;,n)}var a=!1;t.getFrameIndex=function(){var t,i=e.location.hash?e.location.hash.slice(1):&quot;1&quot;;return t=/^[0-9]+$/.test(i)?parseInt(i,10)-1:sozi.document.getFrameIndexForId(i),0&gt;t?0:t&gt;=sozi.document.frames.length?sozi.document.frames.length-1:t},e.addEventListener(&quot;hashchange&quot;,i,!1),e.addEventListener(&quot;load&quot;,r,!1)}),namespace(this,&quot;sozi.proto&quot;,function(t){&quot;use strict&quot;;t.Object={installConstructors:function(){function t(){}t.prototype=this,this.instance=function(){var e=new t;return e.construct.apply(e,arguments),e},this.subtype=function(e){var i=new t;return i.augment(e),i.installConstructors(),i}},construct:function(){},augment:function(t){for(var e in t)t.hasOwnProperty(e)&amp;&amp;(this[e]=t[e]);return this},bind:function(t){var e=this;return function(){return t.apply(e,arguments)}}},t.Object.installConstructors()}),namespace(this,&quot;sozi.animation&quot;,function(t,e){&quot;use strict&quot;;function i(t){u.length&gt;0?(o&amp;&amp;o(i),u.forEach(function(e){e.step(t)})):o||e.clearInterval(s)}function n(){o?o(i):s=e.setInterval(function(){i(Date.now())},c)}function r(t){u.push(t),1===u.length&amp;&amp;n()}function a(t){u.splice(u.indexOf(t),1)}var s,o=e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame,c=40,u=[];t.Animator=sozi.proto.Object.subtype({construct:function(){this.durationMs=0,this.data=null,this.initialTime=0,this.started=!1},start:function(t,e){this.durationMs=t,this.data=e,this.initialTime=Date.now(),this.onStep(0),this.started||(this.started=!0,r(this))},stop:function(){this.started&amp;&amp;(a(this),this.started=!1)},step:function(t){var e=t-this.initialTime;e&gt;=this.durationMs?(this.stop(),this.onStep(1),this.onDone()):this.onStep(e/this.durationMs)},onStep:function(){},onDone:function(){}}),t.profiles={linear:function(t){return t},accelerate:function(t){return Math.pow(t,3)},&quot;strong-accelerate&quot;:function(t){return Math.pow(t,5)},decelerate:function(t){return 1-Math.pow(1-t,3)},&quot;strong-decelerate&quot;:function(t){return 1-Math.pow(1-t,5)},&quot;accelerate-decelerate&quot;:function(t){var e=.5&gt;=t?t:1-t,i=Math.pow(2*e,3)/2;return.5&gt;=t?i:1-i},&quot;strong-accelerate-decelerate&quot;:function(t){var e=.5&gt;=t?t:1-t,i=Math.pow(2*e,5)/2;return.5&gt;=t?i:1-i},&quot;decelerate-accelerate&quot;:function(t){var e=.5&gt;=t?t:1-t,i=(1-Math.pow(1-2*e,2))/2;return.5&gt;=t?i:1-i},&quot;strong-decelerate-accelerate&quot;:function(t){var e=.5&gt;=t?t:1-t,i=(1-Math.pow(1-2*e,3))/2;return.5&gt;=t?i:1-i},&quot;immediate-beginning&quot;:function(){return 1},&quot;immediate-end&quot;:function(t){return 1===t?1:0},&quot;immediate-middle&quot;:function(t){return t&gt;=.5?1:0}}}),namespace(this,&quot;sozi.player&quot;,function(t,e){&quot;use strict&quot;;function i(){if(sozi.document.frames[t.currentFrameIndex].timeoutEnable){p=!0;var i=(t.currentFrameIndex+1)%sozi.document.frames.length;c=e.setTimeout(function(){t.moveToFrame(i)},sozi.document.frames[t.currentFrameIndex].timeoutMs)}}function n(t,e,i){var n={ss:(0&gt;t?Math.max(e,i):Math.min(e,i))*(100-t)/100,ts:.5,k:0};if(0!==t){var r=e-i,a=e-n.ss,s=i-n.ss;if(0!==r){var o=Math.sqrt(a*s),c=(a-o)/r,u=(a+o)/r;n.ts=c&gt;0&amp;&amp;1&gt;=c?c:u}n.k=a/n.ts/n.ts}return n}function r(t,e,i,r,a,s){var o={};for(var c in t){o[c]={initialState:sozi.display.CameraState.instance(),finalState:sozi.display.CameraState.instance(),useTransitionPath:a,reverseTransitionPath:s},o[c].profile=r||e[c].transitionProfile,o[c].initialState.setAtState(t[c]),e.hasOwnProperty(c)?o[c].finalState.setAtState(e[c]):o[c].finalState.setAtState(t[c]),o[c].finalState.angle-o[c].initialState.angle&gt;180?o[c].finalState.setRawAngle(o[c].finalState.angle-360):-180&gt;o[c].finalState.angle-o[c].initialState.angle&amp;&amp;o[c].initialState.setRawAngle(o[c].initialState.angle-360);var u=i||e[c].transitionZoomPercent;u&amp;&amp;e.hasOwnProperty(c)&amp;&amp;(o[c].zoomWidth=n(u,t[c].width,e[c].width),o[c].zoomHeight=n(u,t[c].height,e[c].height))}return o}function a(){s=sozi.display.ViewPort.instance(&quot;player&quot;,sozi.document.idLayerList,!0),t.startFromIndex(sozi.location.getFrameIndex()),e.setTimeout(s.bind(s.update),1),sozi.events.fire(&quot;sozi.player.ready&quot;)}var s,o,c,u=500,h=-10,l=&quot;linear&quot;,d=0;t.currentFrameIndex=0;var m=!1,p=!1;t.startFromIndex=function(e){m=!0,p=!1,d=e,t.currentFrameIndex=e,s.showFrame(sozi.document.frames[e]),i()},t.restart=function(){t.startFromIndex(t.currentFrameIndex)},t.stop=function(){o.stop(),p&amp;&amp;(e.clearTimeout(c),p=!1),m=!1,d=t.currentFrameIndex},t.jumpToFrame=function(e){t.stop(),sozi.events.fire(&quot;sozi.player.cleanup&quot;),d=e,t.currentFrameIndex=e,s.showFrame(sozi.document.frames[e]),sozi.events.fire(&quot;sozi.player.framechange&quot;,e)},t.previewFrame=function(e){t.currentFrameIndex=e,o.start(u,r(s.cameras,sozi.document.frames[e].states,h,sozi.animation.profiles[l]),!1,!1),sozi.events.fire(&quot;sozi.player.framechange&quot;,e)},t.moveToFrame=function(i){p&amp;&amp;(e.clearTimeout(c),p=!1);var n,a,d,f,v;i===(t.currentFrameIndex-1)%sozi.document.frames.length?(n=sozi.document.frames[t.currentFrameIndex].transitionDurationMs,a=void 0,d=void 0,f=!0,v=!0):i===(t.currentFrameIndex+1)%sozi.document.frames.length?(n=sozi.document.frames[i].transitionDurationMs,a=void 0,d=void 0,f=!0,v=!1):(n=u,a=h,d=sozi.animation.profiles[l],f=!1,v=!1),sozi.events.fire(&quot;sozi.player.cleanup&quot;),m=!0,t.currentFrameIndex=i,o.start(n,r(s.cameras,sozi.document.frames[i].states,a,d,f,v)),sozi.events.fire(&quot;sozi.player.framechange&quot;,i)},t.moveToFirst=function(){t.moveToFrame(0)},t.jumpToPrevious=function(){var e=t.currentFrameIndex;(!o.started||t.currentFrameIndex&gt;=d)&amp;&amp;(e-=1),e&gt;=0&amp;&amp;t.jumpToFrame(e)},t.moveToPrevious=function(){for(var e=t.currentFrameIndex-1;e&gt;=0;e-=1){var i=sozi.document.frames[e];if(!i.timeoutEnable||0!==i.timeoutMs){t.moveToFrame(e);break}}},t.jumpToNext=function(){var e=t.currentFrameIndex;(!o.started||d&gt;=t.currentFrameIndex)&amp;&amp;(e+=1),sozi.document.frames.length&gt;e&amp;&amp;t.jumpToFrame(e)},t.moveToNext=function(){(t.currentFrameIndex&lt;sozi.document.frames.length-1||sozi.document.frames[t.currentFrameIndex].timeoutEnable)&amp;&amp;t.moveToFrame((t.currentFrameIndex+1)%sozi.document.frames.length)},t.moveToLast=function(){t.moveToFrame(sozi.document.frames.length-1)},t.moveToCurrent=function(){t.moveToFrame(t.currentFrameIndex)},t.showAll=function(){t.stop(),sozi.events.fire(&quot;sozi.player.cleanup&quot;),o.start(u,r(s.cameras,s.getDocumentState(),h,sozi.animation.profiles[l],!1,!1))},o=sozi.animation.Animator.instance().augment({onStep:function(t){for(var e in this.data){var i=s.cameras[e];i.interpolate(this.data[e].initialState,this.data[e].finalState,this.data[e].profile(t),this.data[e].useTransitionPath,this.data[e].reverseTransitionPath);var n;this.data[e].zoomWidth&amp;&amp;0!==this.data[e].zoomWidth.k&amp;&amp;(n=t-this.data[e].zoomWidth.ts,i.width=this.data[e].zoomWidth.k*n*n+this.data[e].zoomWidth.ss),this.data[e].zoomHeight&amp;&amp;0!==this.data[e].zoomHeight.k&amp;&amp;(n=t-this.data[e].zoomHeight.ts,i.height=this.data[e].zoomHeight.k*n*n+this.data[e].zoomHeight.ss),i.setClipped(this.data[e].finalState.clipped)}s.update()},onDone:function(){console.log(&quot;Done&quot;);for(var e in this.data)s.cameras[e].setAtState(this.data[e].finalState);s.update(),d=t.currentFrameIndex,m&amp;&amp;i()}}),sozi.events.listen(&quot;sozi.display.ready&quot;,a)}),namespace(this,&quot;sozi.actions&quot;,function(t,e){&quot;use strict&quot;;function i(t,e,i){v.stop(),g.viewPorts.player.zoom(t&gt;0?b:1/b,e,i)}function n(t){v.stop(),g.viewPorts.player.rotate(t&gt;0?A:-A)}function r(){sozi.framelist.isVisible()?(sozi.framelist.hide(),v.restart()):(v.stop(),sozi.framelist.show())}function a(t){return g.viewPorts.player.contains(t.clientX,t.clientY)}function s(t){a(t)&amp;&amp;(t.button===y?(z.documentElement.addEventListener(&quot;mousemove&quot;,o,!1),x=!1,S=t.clientX,P=t.clientY):t.button===w&amp;&amp;r(),t.stopPropagation(),t.preventDefault())}function o(t){a(t)&amp;&amp;(v.stop(),x=!0,sozi.events.fire(&quot;sozi.player.cleanup&quot;),g.viewPorts.player.drag(t.clientX-S,t.clientY-P),S=t.clientX,P=t.clientY,t.stopPropagation())}function c(t){a(t)&amp;&amp;(t.button===y&amp;&amp;z.documentElement.removeEventListener(&quot;mousemove&quot;,o,!1),t.stopPropagation(),t.preventDefault())}function u(t){a(t)&amp;&amp;(v.moveToPrevious(),t.stopPropagation(),t.preventDefault())}function h(t){a(t)&amp;&amp;(x||t.button===w||v.moveToNext(),t.stopPropagation(),t.preventDefault())}function l(t){if(a(t)){t||(t=e.event);var r=0;t.wheelDelta?r=t.wheelDelta:t.detail&amp;&amp;(r=-t.detail),0!==r&amp;&amp;(t.shiftKey?n(r):i(r,t.clientX,t.clientY)),t.stopPropagation(),t.preventDefault()}}function d(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){switch(t.charCode||t.which){case 43:i(1,e.innerWidth/2,e.innerHeight/2);break;case 45:i(-1,e.innerWidth/2,e.innerHeight/2);break;case 61:v.moveToCurrent();break;case 70:case 102:v.showAll();break;case 84:case 116:r();break;case 82:n(-1);break;case 114:n(1);break;default:return}t.stopPropagation(),t.preventDefault()}}function m(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){switch(t.keyCode){case 36:v.moveToFirst();break;case 35:v.moveToLast();break;case 38:v.jumpToPrevious();break;case 33:case 37:v.moveToPrevious();break;case 40:v.jumpToNext();break;case 34:case 39:case 13:case 32:v.moveToNext();break;default:return}t.stopPropagation()}}function p(t){t.stopPropagation()}function f(){for(var t=z.getElementsByTagName(&quot;a&quot;),i=0;t.length&gt;i;i+=1)t[i].addEventListener(&quot;click&quot;,p,!1),t[i].addEventListener(&quot;contextmenu&quot;,p,!1);var n=z.documentElement;n.addEventListener(&quot;click&quot;,h,!1),n.addEventListener(&quot;mousedown&quot;,s,!1),n.addEventListener(&quot;mouseup&quot;,c,!1),n.addEventListener(&quot;contextmenu&quot;,u,!1),n.addEventListener(&quot;DOMMouseScroll&quot;,l,!1),e.onmousewheel=l,n.addEventListener(&quot;keypress&quot;,d,!1),n.addEventListener(&quot;keydown&quot;,m,!1)}var v=namespace(e,&quot;sozi.player&quot;),g=namespace(e,&quot;sozi.display&quot;),z=e.document,y=0,w=1,b=1.05,A=5,x=!1,S=0,P=0;sozi.events.listen(&quot;sozi.display.ready&quot;,f)}),namespace(this,&quot;sozi.framelist&quot;,function(t,e){&quot;use strict&quot;;function i(e){for(var i=e.relatedTarget,n=g.documentElement;i&amp;&amp;i!==u&amp;&amp;i!==n;)i=i.parentNode;i!==u&amp;&amp;(t.hide(),sozi.player.restart(),e.stopPropagation())}function n(t){var i=h.getCTM().f;-e.innerHeight/2&gt;=i?i+=e.innerHeight/2:0&gt;i&amp;&amp;(i=0),h.setAttribute(&quot;transform&quot;,&quot;translate(0,&quot;+i+&quot;)&quot;),t.stopPropagation()}function r(t){var i=h.getCTM().f;i+y&gt;=3*e.innerHeight/2?i-=e.innerHeight/2:i+y&gt;e.innerHeight+2*z&amp;&amp;(i=e.innerHeight-y-4*z),h.setAttribute(&quot;transform&quot;,&quot;translate(0,&quot;+i+&quot;)&quot;),t.stopPropagation()}function a(t){return function(e){sozi.player.previewFrame(t),e.stopPropagation()}}function s(t){t.stopPropagation()}function o(){u=g.createElementNS(A,&quot;g&quot;),u.setAttribute(&quot;id&quot;,&quot;sozi-toc&quot;),g.documentElement.appendChild(u),h=g.createElementNS(A,&quot;g&quot;),u.appendChild(h);var t=g.createElementNS(A,&quot;rect&quot;);t.setAttribute(&quot;id&quot;,&quot;sozi-toc-background&quot;),t.setAttribute(&quot;x&quot;,z),t.setAttribute(&quot;y&quot;,z),t.setAttribute(&quot;rx&quot;,z),t.setAttribute(&quot;ry&quot;,z),t.addEventListener(&quot;click&quot;,s,!1),t.addEventListener(&quot;mousedown&quot;,s,!1),t.addEventListener(&quot;mouseout&quot;,i,!1),h.appendChild(t);var e=0;sozi.document.frames.forEach(function(t,i){var n=g.createElementNS(A,&quot;text&quot;);n.appendChild(g.createTextNode(t.title)),h.appendChild(n),i===sozi.player.currentFrameIndex&amp;&amp;n.setAttribute(&quot;class&quot;,&quot;sozi-toc-current&quot;);var r=n.getBBox().width;y+=n.getBBox().height,r&gt;e&amp;&amp;(e=r),n.setAttribute(&quot;x&quot;,2*z),n.setAttribute(&quot;y&quot;,y+z),n.addEventListener(&quot;click&quot;,a(i),!1),n.addEventListener(&quot;mousedown&quot;,s,!1)});var o=g.createElementNS(A,&quot;path&quot;);o.setAttribute(&quot;class&quot;,&quot;sozi-toc-arrow&quot;),o.setAttribute(&quot;d&quot;,&quot;M&quot;+(e+3*z)+&quot;,&quot;+5*z+&quot; l&quot;+4*z+&quot;,0&quot;+&quot; l-&quot;+2*z+&quot;,-&quot;+3*z+&quot; z&quot;),o.addEventListener(&quot;click&quot;,n,!1),o.addEventListener(&quot;mousedown&quot;,s,!1),u.appendChild(o);var c=g.createElementNS(A,&quot;path&quot;);c.setAttribute(&quot;class&quot;,&quot;sozi-toc-arrow&quot;),c.setAttribute(&quot;d&quot;,&quot;M&quot;+(e+3*z)+&quot;,&quot;+7*z+&quot; l&quot;+4*z+&quot;,0&quot;+&quot; l-&quot;+2*z+&quot;,&quot;+3*z+&quot; z&quot;),c.addEventListener(&quot;click&quot;,r,!1),c.addEventListener(&quot;mousedown&quot;,s,!1),u.appendChild(c),t.setAttribute(&quot;width&quot;,e+7*z),t.setAttribute(&quot;height&quot;,y+2*z),l=-e-9*z,d=0,f=p=l,u.setAttribute(&quot;transform&quot;,&quot;translate(&quot;+l+&quot;,0)&quot;),v=sozi.animation.Animator.instance().augment({onStep:function(t){var e=sozi.animation.profiles[b](t),i=1-e;f=p*e+m*i,u.setAttribute(&quot;transform&quot;,&quot;translate(&quot;+f+&quot;,0)&quot;)}})}function c(t){var e=Array.prototype.slice.call(g.getElementsByClassName(&quot;sozi-toc-current&quot;));e.forEach(function(t){t.removeAttribute(&quot;class&quot;)});var i=h.getElementsByTagName(&quot;text&quot;);i[t].setAttribute(&quot;class&quot;,&quot;sozi-toc-current&quot;)}var u,h,l,d,m,p,f,v,g=e.document,z=5,y=0,w=300,b=&quot;decelerate&quot;,A=&quot;http://www.w3.org/2000/svg&quot;;t.show=function(){m=f,p=d,v.start(w)},t.hide=function(){m=f,p=l,v.start(w)},t.isVisible=function(){return p===d},sozi.events.listen(&quot;sozi.player.ready&quot;,o),sozi.events.listen(&quot;sozi.player.cleanup&quot;,t.hide),sozi.events.listen(&quot;sozi.player.framechange&quot;,c)}),namespace(this,&quot;sozi.framenumber&quot;,function(t,e){&quot;use strict&quot;;function i(){var t=s.getBBox(),e=.75*Math.max(t.width,t.height),i=1.25*e;c.setAttribute(&quot;r&quot;,e),a.setAttribute(&quot;transform&quot;,&quot;translate(&quot;+i+&quot;,&quot;+i+&quot;)&quot;)}function n(){a=u.createElementNS(h,&quot;g&quot;),s=u.createElementNS(h,&quot;text&quot;),c=u.createElementNS(h,&quot;circle&quot;),a.setAttribute(&quot;id&quot;,&quot;sozi-framenumber&quot;),c.setAttribute(&quot;cx&quot;,0),c.setAttribute(&quot;cy&quot;,0),a.appendChild(c),o=u.createTextNode(sozi.player.currentFrameIndex+1),s.setAttribute(&quot;text-anchor&quot;,&quot;middle&quot;),s.setAttribute(&quot;dominant-baseline&quot;,&quot;central&quot;),s.setAttribute(&quot;x&quot;,0),s.setAttribute(&quot;y&quot;,0),s.appendChild(o),a.appendChild(s),u.documentElement.appendChild(a),i()}function r(t){o.nodeValue=t+1}var a,s,o,c,u=e.document,h=&quot;http://www.w3.org/2000/svg&quot;;sozi.events.listen(&quot;sozi.player.ready&quot;,n),sozi.events.listen(&quot;sozi.player.framechange&quot;,r)}),namespace(this,&quot;sozi.display&quot;,function(t,e){&quot;use strict&quot;;function i(){var t=u.documentElement;r=t.getBBox(),a=e.innerWidth,s=e.innerHeight,t.setAttribute(&quot;width&quot;,a),t.setAttribute(&quot;height&quot;,s),sozi.events.fire(&quot;sozi.display.ready&quot;)}function n(){var i=u.documentElement;i.setAttribute(&quot;width&quot;,e.innerWidth),i.setAttribute(&quot;height&quot;,e.innerHeight);for(var n in t.viewPorts)t.viewPorts[n].onWindowResize(e.innerWidth/a,e.innerHeight/s);a=e.innerWidth,s=e.innerHeight}var r,a,s,o=&quot;http://www.w3.org/2000/svg&quot;,c=&quot;http://www.w3.org/1999/xlink&quot;,u=e.document;t.viewPorts={};var h;t.CameraState=sozi.proto.Object.subtype({construct:function(){this.cx=this.cy=0,this.width=this.height=1,this.angle=0,this.clipped=!0,this.transitionZoomPercent=0,this.transitionProfile=sozi.animation.profiles.linear,this.transitionPath=null},setCenter:function(t,e){return this.cx=t,this.cy=e,this},setSize:function(t,e){return this.width=t,this.height=e,this},setClipped:function(t){return this.clipped=t,this},setAngle:function(t){return this.angle=(t+180)%360-180,this},setRawAngle:function(t){return this.angle=t,this},setTransitionZoomPercent:function(t){return this.transitionZoomPercent=t,this},setTransitionProfile:function(t){return this.transitionProfile=t,this},setTransitionPath:function(t){return this.transitionPath=t,this},setAtElement:function(t){var e,i,n,r;if(&quot;rect&quot;===t.nodeName)e=t.x.baseVal.value,i=t.y.baseVal.value,n=t.width.baseVal.value,r=t.height.baseVal.value;else{var a=t.getBBox();e=a.x,i=a.y,n=a.width,r=a.height}var s=u.documentElement.createSVGPoint();s.x=e+n/2,s.y=i+r/2;var o=t.getCTM();s=s.matrixTransform(o);var c=Math.sqrt(o.a*o.a+o.b*o.b);return this.setCenter(s.x,s.y).setSize(n*c,r*c).setAngle(180*Math.atan2(o.b,o.a)/Math.PI)},setAtState:function(t){return this.setCenter(t.cx,t.cy).setSize(t.width,t.height).setAngle(t.angle).setClipped(t.clipped).setTransitionZoomPercent(t.transitionZoomPercent).setTransitionProfile(t.transitionProfile).setTransitionPath(t.transitionPath)},interpolatableAttributes:[&quot;width&quot;,&quot;height&quot;,&quot;angle&quot;],interpolate:function(t,e,i,n,r){for(var a=1-i,s=0;this.interpolatableAttributes.length&gt;s;s+=1){var o=this.interpolatableAttributes[s];this[o]=e[o]*i+t[o]*a}var c=r?t.transitionPath:e.transitionPath;if(console.log(n+&quot; &quot;+r+&quot; &quot;+c),n&amp;&amp;c){var u=c.getTotalLength();if(r)var h=c.getPointAtLength(u),l=c.getPointAtLength(0),d=c.getPointAtLength(u*a);else var h=c.getPointAtLength(0),l=c.getPointAtLength(u),d=c.getPointAtLength(u*i);this.cx=d.x+(e.cx-l.x)*i+(t.cx-h.x)*a,this.cy=d.y+(e.cy-l.y)*i+(t.cy-h.y)*a}else this.cx=e.cx*i+t.cx*a,this.cy=e.cy*i+t.cy*a}}),t.Camera=t.CameraState.subtype({construct:function(e,i){t.CameraState.construct.call(this),this.viewPort=e,this.svgClipRect=u.createElementNS(o,&quot;rect&quot;);var n=u.createElementNS(o,&quot;clipPath&quot;);n.setAttribute(&quot;id&quot;,&quot;sozi-clip-path-&quot;+e.id+&quot;-&quot;+i),n.appendChild(this.svgClipRect),e.svgGroup.appendChild(n);var r=u.createElementNS(o,&quot;g&quot;);r.setAttribute(&quot;clip-path&quot;,&quot;url(#sozi-clip-path-&quot;+e.id+&quot;-&quot;+i+&quot;)&quot;),e.svgGroup.appendChild(r),e.isPrimary?(this.svgLayer=u.createElementNS(o,&quot;g&quot;),this.svgLayer.appendChild(u.getElementById(i))):(this.svgLayer=u.createElementNS(o,&quot;use&quot;),this.svgLayer.setAttributeNS(c,&quot;href&quot;,&quot;#&quot;+i)),r.appendChild(this.svgLayer)},setAtState:function(e){return t.CameraState.setAtState.call(this,e).update()},getScale:function(){return Math.min(this.viewPort.width/this.width,this.viewPort.height/this.height)},rotate:function(t){return this.setAngle(this.angle+t).update()},zoom:function(t,e,i){return this.setSize(this.width/t,this.height/t).drag((1-t)*(e-this.viewPort.width/2),(1-t)*(i-this.viewPort.height/2))},drag:function(t,e){var i=this.getScale(),n=this.angle*Math.PI/180,r=Math.sin(n),a=Math.cos(n);return this.setCenter(this.cx-(t*a-e*r)/i,this.cy-(t*r+e*a)/i).setClipped(!1).update()},update:function(){var t=this.getScale(),e=this.width*t,i=this.height*t,n=(this.viewPort.width-e)/2,r=(this.viewPort.height-i)/2;this.svgClipRect.setAttribute(&quot;x&quot;,this.clipped?n:0),this.svgClipRect.setAttribute(&quot;y&quot;,this.clipped?r:0),this.svgClipRect.setAttribute(&quot;width&quot;,this.clipped?e:this.viewPort.width),this.svgClipRect.setAttribute(&quot;height&quot;,this.clipped?i:this.viewPort.height);var a=-this.cx+this.width/2+n/t,s=-this.cy+this.height/2+r/t;return this.svgLayer.setAttribute(&quot;transform&quot;,&quot;scale(&quot;+t+&quot;)&quot;+&quot;translate(&quot;+a+&quot;,&quot;+s+&quot;)&quot;+&quot;rotate(&quot;+-this.angle+&quot;,&quot;+this.cx+&quot;,&quot;+this.cy+&quot;)&quot;),this}}),t.ViewPort=sozi.proto.Object.subtype({construct:function(i,n,r){if(this.id=i,t.viewPorts[i]=this,this.isPrimary=!!r,this.isPrimary){if(h)throw&quot;Failed to create a primary viewport. A primary viewport already exists.&quot;;h=this}this.svgGroup=u.createElementNS(o,&quot;g&quot;),this.svgGroup.setAttribute(&quot;class&quot;,&quot;sozi-viewport&quot;),this.svgGroup.setAttribute(&quot;id&quot;,&quot;sozi-viewport-&quot;+i),u.documentElement.appendChild(this.svgGroup),this.setLocation(0,0).setSize(e.innerWidth,e.innerHeight),this.cameras={},n.forEach(function(e){this.cameras[e]=t.Camera.instance(this,e)},this)},setSize:function(t,e){return this.width=t,this.height=e,this},setLocation:function(t,e){return this.x=t,this.y=e,this},contains:function(t,e){return t&gt;=this.x&amp;&amp;this.x+this.width&gt;t&amp;&amp;e&gt;=this.y&amp;&amp;this.y+this.height&gt;e},getDocumentState:function(){var e=t.CameraState.instance().setCenter(r.x+r.width/2,r.y+r.height/2).setSize(r.width,r.height).setClipped(!1),i={};for(var n in this.cameras)i[n]=e;return i},update:function(){this.svgGroup.setAttribute(&quot;transform&quot;,&quot;translate(&quot;+this.x+&quot;,&quot;+this.y+&quot;)&quot;);for(var t in this.cameras)this.cameras[t].update();return this},showFrame:function(t){for(var e in t.states)this.cameras[e].setAtState(t.states[e]);return this},drag:function(t,e){for(var i in this.cameras)this.cameras[i].drag(t,e);return this},zoom:function(t,e,i){for(var n in this.cameras)this.cameras[n].zoom(t,e,i);return this},rotate:function(t){for(var e in this.cameras)this.cameras[e].rotate(t);return this},onWindowResize:function(t,e){this.setLocation(this.x*t,this.y*e).setSize(this.width*t,this.height*e).update()}}),sozi.events.listen(&quot;sozi.document.ready&quot;,i),e.addEventListener(&quot;resize&quot;,n,!1)}),namespace(this,&quot;sozi.document&quot;,function(t,e){&quot;use strict&quot;;function i(t,e){return t.getAttributeNS(o,e)||c[e]}function n(t,e,n){var r=t.states[e]=t.states[e]||sozi.display.CameraState.instance();if((r.transitionZoomPercent===void 0||n.hasAttributeNS(o,&quot;transition-zoom-percent&quot;))&amp;&amp;r.setTransitionZoomPercent(parseInt(i(n,&quot;transition-zoom-percent&quot;),10)),(r.transitionProfile===void 0||n.hasAttributeNS(o,&quot;transition-profile&quot;))&amp;&amp;r.setTransitionProfile(sozi.animation.profiles[i(n,&quot;transition-profile&quot;)]),r.transitionPath===void 0||n.hasAttributeNS(o,&quot;transition-path&quot;)){var a=s.getElementById(n.getAttributeNS(o,&quot;transition-path&quot;));a&amp;&amp;&quot;path&quot;===a.nodeName&amp;&amp;(r.setTransitionPath(a),&quot;true&quot;===i(n,&quot;transition-path-hide&quot;)&amp;&amp;(a.style.visibility=&quot;hidden&quot;))}if(n.hasAttributeNS(o,&quot;refid&quot;)){var c=s.getElementById(n.getAttributeNS(o,&quot;refid&quot;));c&amp;&amp;(r.setAtElement(c),&quot;true&quot;===i(n,&quot;hide&quot;)&amp;&amp;(c.style.visibility=&quot;hidden&quot;))}n.hasAttributeNS(o,&quot;clip&quot;)&amp;&amp;r.setClipped(&quot;true&quot;===i(n,&quot;clip&quot;))}function r(){for(var e=[],r=s.getElementsByTagNameNS(o,&quot;layer&quot;),a=0;r.length&gt;a;a+=1){var c=r[a].getAttributeNS(o,&quot;group&quot;);c&amp;&amp;-1===e.indexOf(c)&amp;&amp;e.push(c)}var h=s.documentElement,l=&quot;http://www.w3.org/2000/svg&quot;,d=s.createElementNS(l,&quot;g&quot;),m=Array.prototype.slice.call(h.childNodes);m.forEach(function(i,n){i.getAttribute?-1!==e.indexOf(i.getAttribute(&quot;id&quot;))?(d.firstChild&amp;&amp;(d.setAttribute(&quot;id&quot;,&quot;sozi-wrapper-&quot;+n),t.idLayerList.push(&quot;sozi-wrapper-&quot;+n),h.insertBefore(d,i),d=s.createElementNS(l,&quot;g&quot;)),t.idLayerList.push(i.getAttribute(&quot;id&quot;))):-1!==u.indexOf(i.localName.toLowerCase())&amp;&amp;(h.removeChild(i),d.appendChild(i)):h.removeChild(i)}),d.firstChild&amp;&amp;(d.setAttribute(&quot;id&quot;,&quot;sozi-wrapper-&quot;+m.length),t.idLayerList.push(&quot;sozi-wrapper-&quot;+m.length),h.appendChild(d));var p=Array.prototype.slice.call(s.getElementsByTagNameNS(o,&quot;frame&quot;));p.sort(function(t,e){var n=parseInt(i(t,&quot;sequence&quot;),10),r=parseInt(i(e,&quot;sequence&quot;),10);return n-r}),p.forEach(function(e,r){var a={id:e.getAttribute(&quot;id&quot;),title:i(e,&quot;title&quot;),sequence:parseInt(i(e,&quot;sequence&quot;),10),timeoutEnable:&quot;true&quot;===i(e,&quot;timeout-enable&quot;),timeoutMs:parseInt(i(e,&quot;timeout-ms&quot;),10),transitionDurationMs:parseInt(i(e,&quot;transition-duration-ms&quot;),10),states:{}};t.idLayerList.forEach(function(i){if(0===r||-1!==i.search(&quot;sozi-wrapper-[0-9]+&quot;))n(a,i,e);else{var s=a.states[i]=sozi.display.CameraState.instance(),o=t.frames[t.frames.length-1].states[i];s.setAtState(o)}});var s=Array.prototype.slice.call(e.getElementsByTagNameNS(o,&quot;layer&quot;));s.forEach(function(e){var i=e.getAttributeNS(o,&quot;group&quot;);i&amp;&amp;-1!==t.idLayerList.indexOf(i)&amp;&amp;n(a,i,e)});for(var c in a.states)if(a.states.hasOwnProperty(c)){t.frames.push(a);break}})}function a(){s.documentElement.removeAttribute(&quot;viewBox&quot;),r(),sozi.events.fire(&quot;sozi.document.ready&quot;)}var s=e.document,o=&quot;http://sozi.baierouge.fr&quot;,c={title:&quot;Untitled&quot;,sequence:&quot;0&quot;,hide:&quot;true&quot;,clip:&quot;true&quot;,&quot;timeout-enable&quot;:&quot;false&quot;,&quot;timeout-ms&quot;:&quot;5000&quot;,&quot;transition-duration-ms&quot;:&quot;1000&quot;,&quot;transition-zoom-percent&quot;:&quot;0&quot;,&quot;transition-profile&quot;:&quot;linear&quot;,&quot;transition-path-hide&quot;:&quot;true&quot;},u=[&quot;g&quot;,&quot;image&quot;,&quot;path&quot;,&quot;rect&quot;,&quot;circle&quot;,&quot;ellipse&quot;,&quot;line&quot;,&quot;polyline&quot;,&quot;polygon&quot;,&quot;text&quot;,&quot;clippath&quot;];t.frames=[],t.idLayerList=[],t.getFrameIndexForId=function(e){for(var i=0;t.frames.length&gt;i;i+=1)if(t.frames[i].id===e)return i;return-1},e.addEventListener(&quot;load&quot;,a,!1)});</script>
  <style
     id="sozi-style"
     ns1:version="13.01-13180236">/*
 * Sozi - A presentation tool using the SVG standard
 *
 * Copyright (C) 2010-2012 Guillaume Savaton
 *
 * This program is dual licensed under the terms of the MIT license
 * or the GNU General Public License (GPL) version 3.
 * A copy of both licenses is provided in the doc/ folder of the
 * official release of Sozi.
 * 
 * See http://sozi.baierouge.fr/wiki/en:license for details.
 */

#sozi-toc text {
   fill: #eff;
   font-family: Verdana, sans-serif;
   font-size: 12pt;
}

#sozi-toc text:hover {
   fill: #0cf;
   cursor: pointer;
}

#sozi-toc text.sozi-toc-current {
   fill: #fa4;
}

#sozi-toc-background {
   stroke: #222;
   stroke-opacity: 0.1;
   stroke-width: 10;
   fill: #222;
   fill-opacity: 0.9;
}

.sozi-toc-arrow {
   fill: #eff;
   fill-opacity: 0.75;
   stroke: none;
}

.sozi-toc-arrow:hover {
   fill: #0cf;
}

#sozi-framenumber circle {
   stroke: #222;
   stroke-opacity: 0.1;
   stroke-width: 4;
   fill: #222;
   fill-opacity: 0.9;
}

#sozi-framenumber text {
   fill: #eff;
   font-family: Verdana, sans-serif;
   font-size: 12pt;
}

</style>
  <script
     id="sozi-extras-addvideo-script"
     ns1:version="13.01-13180236">/*
 * Sozi - A presentation tool using the SVG standard
 *
 * Copyright (C) 2010-2012 Guillaume Savaton
 *
 * This program is dual licensed under the terms of the MIT license
 * or the GNU General Public License (GPL) version 3.
 * A copy of both licenses is provided in the doc/ folder of the
 * official release of Sozi.
 * 
 * See http://sozi.baierouge.fr/wiki/en:license for details.
 */

this.addEventListener(&quot;load&quot;, function () {
	var	svgNs = &quot;http://www.w3.org/2000/svg&quot;,
	    soziNs = &quot;http://sozi.baierouge.fr&quot;,
		xhtmlNs = &quot;http://www.w3.org/1999/xhtml&quot;,
		window = this,
		document = window.document,
		mediaSources = [],
		mediaList, i, j, k, rect, foreignObject,
		html, htmlMedia, htmlSource;
	
    function clickHandler(evt) {
        evt.stopPropagation();
    }
    
    function registerFrameChangeHandler(htmlMedia, startFrame, stopFrame) {
        sozi.events.listen(&quot;sozi.player.framechange&quot;, function(index) {
            var frameId = sozi.document.frames[index].id;
		    if (frameId === startFrame) {
		        htmlMedia.play();
			}
            else if (frameId === stopFrame) {
                htmlMedia.pause();
            }
		});
    }
    
	mediaSources.push(document.getElementsByTagNameNS(soziNs, &quot;video&quot;));
	mediaSources.push(document.getElementsByTagNameNS(soziNs, &quot;audio&quot;));

	mediaList = [];
	for (k = 0; k &lt; mediaSources.length; k += 1) {
	    for (i = 0; i &lt; mediaSources[k].length; i += 1) {
		    rect = mediaSources[k][i].parentNode;
	
		    // Create HTML media source element
		    htmlSource = document.createElementNS(xhtmlNs, &quot;source&quot;);
		    htmlSource.setAttribute(&quot;type&quot;, mediaSources[k][i].getAttributeNS(soziNs, &quot;type&quot;));
		    htmlSource.setAttribute(&quot;src&quot;, mediaSources[k][i].getAttributeNS(soziNs, &quot;src&quot;));

		    for (j = 0; j &lt; mediaList.length; j += 1) {
			    if (mediaList[j].rect === rect) {
				    break;
			    }
		    }
	
		    if (j === mediaList.length) {
		        rect.setAttribute(&quot;visibility&quot;, &quot;hidden&quot;);
		        
			    // Create HTML media element
			    htmlMedia = document.createElementNS(xhtmlNs, mediaSources[k][i].localName);
			    htmlMedia.setAttribute(&quot;controls&quot;, &quot;controls&quot;);
			    if (mediaSources[k][i].localName === &quot;video&quot;) {
			        htmlMedia.setAttribute(&quot;width&quot;, rect.getAttribute(&quot;width&quot;));
			        htmlMedia.setAttribute(&quot;height&quot;, rect.getAttribute(&quot;height&quot;));
			    }
		        htmlMedia.addEventListener(&quot;click&quot;, clickHandler, false);
		        htmlMedia.addEventListener(&quot;contextmenu&quot;, clickHandler, false);
		        
			    // Create HTML root element
			    html = document.createElementNS(xhtmlNs, &quot;html&quot;);
			    html.appendChild(htmlMedia);
		
			    // Create SVG foreign object
			    foreignObject = document.createElementNS(svgNs, &quot;foreignObject&quot;);
			    foreignObject.setAttribute(&quot;x&quot;, rect.getAttribute(&quot;x&quot;));
			    foreignObject.setAttribute(&quot;y&quot;, rect.getAttribute(&quot;y&quot;));
			    foreignObject.setAttribute(&quot;width&quot;, rect.getAttribute(&quot;width&quot;));
			    foreignObject.setAttribute(&quot;height&quot;, rect.getAttribute(&quot;height&quot;));
			    foreignObject.appendChild(html);
				
			    rect.parentNode.insertBefore(foreignObject, rect.nextSibling);
			
			    if (mediaSources[k][i].hasAttributeNS(soziNs, &quot;start-frame&quot;)) {
			        registerFrameChangeHandler(htmlMedia,
			            mediaSources[k][i].getAttributeNS(soziNs, &quot;start-frame&quot;),
			            mediaSources[k][i].getAttributeNS(soziNs, &quot;stop-frame&quot;)
			         );
			    }
			
			    mediaList.push({
				    rect: mediaSources[k][i].parentNode,
				    htmlMedia: htmlMedia
			    });
		    }
	    
    		// Append HTML source element to current HTML media element
    		mediaList[j].htmlMedia.appendChild(htmlSource);
	    }
	}				
}, false);

</script>
</svg>
