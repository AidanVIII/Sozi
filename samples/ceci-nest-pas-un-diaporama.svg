<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:ns1="http://sozi.baierouge.fr"
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="1062.9921"
   height="1062.9921"
   id="svg2"
   version="1.1"
   inkscape:version="0.48.3.1 r9886"
   sodipodi:docname="ceci-nest-pas-un-diaporama.svg">
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="0.9899495"
     inkscape:cx="838.78513"
     inkscape:cy="466.89887"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1366"
     inkscape:window-height="746"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     units="cm">
    <inkscape:grid
       snapvisiblegridlinesonly="true"
       enabled="true"
       visible="true"
       empspacing="5"
       type="xygrid"
       id="grid3763" />
  </sodipodi:namedview>
  <defs
     id="defs4">
    <inkscape:path-effect
       effect="sketch"
       id="path-effect3765"
       is_visible="true"
       nbiter_approxstrokes="5"
       strokelength="100"
       strokelength_rdm="0.3;1"
       strokeoverlap="0.3"
       strokeoverlap_rdm="0.3;1"
       ends_tolerance="0.1;1"
       parallel_offset="5;1"
       tremble_size="5;1"
       tremble_frequency="1"
       nbtangents="5"
       tgt_places_rdmness="1;1"
       tgtscale="10"
       tgtlength="100"
       tgtlength_rdm="0.3;1" />
    <inkscape:path-effect
       effect="envelope"
       id="path-effect3767"
       is_visible="true"
       yy="true"
       xx="true"
       bendpath1="m 167.14286,514.73163 157.07266,0"
       bendpath2="m 324.21552,514.73163 0,367.83084"
       bendpath3="m 167.14286,882.56247 157.07266,0"
       bendpath4="m 167.14286,514.73163 0,367.83084" />
    <inkscape:path-effect
       effect="gears"
       id="path-effect3769"
       is_visible="true"
       teeth="10"
       phi="5" />
    <inkscape:path-effect
       effect="knot"
       id="path-effect3771"
       is_visible="true"
       interruption_width="3"
       prop_to_stroke_width="true"
       add_stroke_width="true"
       add_other_stroke_width="true"
       switcher_size="15"
       crossing_points_vector="" />
    <inkscape:path-effect
       effect="construct_grid"
       id="path-effect3773"
       is_visible="true"
       nr_x="5"
       nr_y="5" />
    <inkscape:path-effect
       effect="spiro"
       id="path-effect3775"
       is_visible="true" />
    <inkscape:path-effect
       effect="vonkoch"
       id="path-effect3777"
       is_visible="true"
       ref_path="m 167.14286,698.64705 157.07266,0"
       generator="m 167.14286,882.56247 52.35755,0 m 52.35756,0 52.35755,0"
       similar_only="false"
       nbgenerations="1"
       drawall="true"
       maxComplexity="1000" />
    <inkscape:path-effect
       effect="bend_path"
       id="path-effect3779"
       is_visible="true"
       bendpath="m 167.14286,698.64705 157.07266,0"
       prop_scale="1"
       scale_y_rel="false"
       vertical="false" />
  </defs>
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     transform="translate(0,10.631225)"
     inkscape:label="Calque 1"
     inkscape:groupmode="layer"
     id="layer1">
    <text
       xml:space="preserve"
       style="font-size:33.79266739px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Iwona;-inkscape-font-specification:Iwona"
       id="text2985"
       sodipodi:linespacing="125%"><textPath
         style="font-size:30px"
         id="textPath3177"
         xlink:href="#path3153">Ceci n'est pas un diaporama</textPath></text>
    <rect
       transform="matrix(0.503761,0.86384307,-0.86384307,0.503761,0,0)"
       style="fill:none;stroke:#008080;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:3.99999991, 1.99999991, 1, 1.99999991;stroke-dashoffset:0"
       id="rect2993"
       width="70"
       height="65"
       x="574.76184"
       y="-7.1704459"
       rx="0"
       ry="0" />
    <rect
       transform="matrix(0.49851537,0.86688086,-0.86688086,0.49851537,0,0)"
       ry="0"
       rx="0"
       y="-6.2654901"
       x="641.15967"
       height="65"
       width="70"
       id="rect3765"
       style="fill:none;stroke:#008080;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:4.00000006, 2.00000003, 1.00000003, 2.00000003;stroke-dashoffset:0" />
    <rect
       transform="matrix(0.50891928,0.86081425,-0.86081425,0.50891928,0,0)"
       style="fill:none;stroke:#008080;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:3.99999994, 1.99999999, 0.99999998, 1.99999999;stroke-dashoffset:0"
       id="rect3767"
       width="60"
       height="65"
       x="706.10358"
       y="5.6747155"
       rx="0"
       ry="0" />
    <rect
       transform="matrix(0.47623607,0.87931747,-0.87931747,0.47623607,0,0)"
       ry="0"
       rx="0"
       y="-22.586481"
       x="758.71515"
       height="65"
       width="50"
       id="rect3769"
       style="fill:none;stroke:#008080;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:3.99999997, 2, 1, 2;stroke-dashoffset:0" />
    <rect
       transform="matrix(0.35715668,0.93404449,-0.93404449,0.35715668,0,0)"
       style="fill:none;stroke:#008080;stroke-width:0.91965157;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:3.6786068, 1.83930334, 0.91965167, 1.83930334;stroke-dashoffset:0"
       id="rect3771"
       width="152.75591"
       height="62.057087"
       x="795.65741"
       y="-128.2869"
       rx="0"
       ry="0" />
    <text
       transform="matrix(0.82918963,-0.55896741,0.55896741,0.82918963,0,0)"
       inkscape:transform-center-y="-4.4554741"
       inkscape:transform-center-x="4.4962412"
       sodipodi:linespacing="125%"
       id="text2989"
       y="874.19476"
       x="210.2914"
       style="font-size:45px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Iwona;-inkscape-font-specification:Iwona"
       xml:space="preserve"><tspan
         y="874.19476"
         x="210.2914"
         id="tspan2991"
         sodipodi:role="line">Ceci</tspan></text>
    <rect
       ry="0"
       rx="0"
       y="809.41803"
       x="175.06706"
       height="113.17416"
       width="194.01286"
       id="rect3773"
       style="fill:none;stroke:#008080;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:3.99999978, 1.9999999, 0.99999996, 1.9999999;stroke-dashoffset:0"
       transform="matrix(0.82734714,-0.56169094,0.56169094,0.82734714,0,0)" />
    <rect
       ry="0"
       rx="0"
       y="12.360841"
       x="-6.1035153e-05"
       height="1020"
       width="1060.0001"
       id="rect3787"
       style="fill:none;stroke:#008080;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:3.99999997, 1.99999998, 1, 1.99999998;stroke-dashoffset:0" />
    <rect
       transform="matrix(0.48292513,0.87566164,-0.87566164,0.48292513,0,0)"
       ry="0"
       rx="0"
       y="-26.204351"
       x="527.84229"
       height="155"
       width="460"
       id="rect4308"
       style="fill:none;stroke:#008080;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:4.00000001, 2, 1, 2;stroke-dashoffset:0" />
    <g
       inkscape:label="Calque 1"
       id="layer1-8"
       transform="matrix(2.3185398,0,0,2.3185398,-683.9555,-1044.6717)">
      <path
         sodipodi:nodetypes="csssssssscc"
         style="fill:#ffcc00;fill-opacity:1;stroke:#ffcc00;stroke-width:0.99921262;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"
         d="m 664.99729,654.7941 c -0.97165,-3.16732 -3.59682,-16.13813 -5.08854,-25.14219 -2.99137,-18.05589 -4.38349,-32.97732 -5.10094,-54.67451 -0.28238,-8.53959 -2.51004,-11.24649 -1.8298,-11.24649 2.82778,0 19.15374,7.91109 25.29911,11.99238 12.37658,8.21958 18.92606,18.74124 19.57856,31.45273 0.2441,4.75551 0.13785,5.72066 -1.02871,9.34391 -2.68567,8.34152 -7.54548,18.74304 -17.97061,29.1591 -3.61501,3.61186 -9.34922,9.59398 -10.78264,10.78265 -2.2368,1.85487 -2.83986,-0.89642 -3.07643,-1.66758 z"
         id="path3007"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#ff6600;fill-opacity:1;stroke:#ff6600;stroke-width:2;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"
         d="m 392.34969,654.33945 c -21.01871,-49.20118 -27.20832,-97.82124 -15.39989,-120.96768 6.89705,-13.51934 20.88367,-19.67638 38.80994,-17.08451 8.17657,1.18221 23.92626,4.34053 25.37483,5.7121 0.38519,0.36471 -3.38434,3.52038 -5.32117,6.57609 -4.77582,7.53471 -13.59934,25.79204 -17.81905,36.87057 -11.0807,29.09149 -18.25056,66.19899 -20.59074,101.76543 -0.20638,3.13669 -0.45967,-2.11765 -5.05392,-12.872 z"
         id="path3792"
         inkscape:connector-curvature="0"
         sodipodi:nodetypes="ssssssss" />
      <path
         style="fill:#ddafe9;fill-opacity:1;stroke:#ddafe9;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
         d="m 659.6783,501.37697 c -2.32457,0.18254 -4.63554,0.7783 -6.73004,1.81127 -1.19619,0.62935 -2.55003,1.56007 -2.64453,3.03612 -0.0533,2.06356 1.38811,3.95547 3.28485,4.67629 2.24586,0.88314 4.80077,0.66421 7.04242,-0.11235 3.30401,-1.2278 5.79168,-4.03779 7.27879,-7.16473 0.17924,-0.50913 0.93604,-1.39354 -0.0862,-1.2817 -2.66099,-0.42607 -5.33029,-0.91746 -8.03145,-0.96818 l -0.11381,0.003 z"
         id="path3800"
         inkscape:connector-curvature="0" />
      <path
         style="fill:#00ccff;fill-opacity:1;stroke:#00ccff;stroke-opacity:1"
         d="m 578.80989,789.72063 c -23.32273,-8.15737 -33.49713,-20.50991 -31.22416,-32.62588 1.49377,-7.96247 12.51465,-20.8437 29.78472,-34.67555 9.8613,-7.89806 35.84172,-26.23573 40.58446,-29.12029 1.14694,-0.69758 0.1926,2.99527 -0.37919,10.86886 -2.19579,30.23646 -6.65443,51.981 -15.23634,71.45272 -3.72069,8.44198 -8.50455,18.89224 -9.62408,18.76319 -0.35877,-0.0413 -6.18317,-1.67097 -9.88755,-2.96662 z"
         id="path3794"
         inkscape:connector-curvature="0"
         sodipodi:nodetypes="csssssccc" />
      <path
         style="fill:#000000;stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
         d="m 411.31698,699.86309 c -49.8102,-78.02369 -78.30419,-243.65316 58.48655,-165.26508 1.43718,0.61504 -2.0856,0.67762 -2.72898,0.30382 -135.87891,-78.94554 -100.53198,90.20404 -56.68196,158.17157 28.57143,44.28572 168.57142,262.85714 -94.28572,162.85714 -1.50165,-0.5424 -0.69994,-8.16718 0.90478,-7.547 239.71544,92.64396 144.11553,-70.49676 94.30533,-148.52045 z"
         id="path2985"
         inkscape:connector-curvature="0"
         sodipodi:nodetypes="zcsscsz" />
      <path
         style="fill:#000000;stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
         d="m 699.18299,605.89916 c -3.85252,-54.40181 -114.73182,-53.82168 -156.29061,-54.25384 -1.32856,-0.022 -0.36044,1.50984 0.18681,1.50222 48.39981,-0.67368 152.45649,0.0865 156.59911,52.55961 4.28572,54.28589 -160.71429,118.79483 -152.14286,157.36626 8.57143,38.57142 111.42857,42.85714 151.42857,42.85714 3.57143,0.35714 4.41833,-4.40812 -0.55003,-4.74693 -58.31047,-3.97642 -206.02141,-8.74237 -128.51312,-71.45528 44.36713,-35.89799 132.98622,-71.52329 129.28213,-123.82918 z"
         id="path2989"
         inkscape:connector-curvature="0"
         sodipodi:nodetypes="scssscsss" />
      <path
         style="fill:#000000;stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
         d="m 733.91622,734.95854 c -73.61365,8.33242 -88.58771,-155.09604 -76.90831,-207.20046 -19.51736,87.16418 20.40332,220.49231 77.34839,211.95055 4.16688,-0.75761 3.09545,-5.5077 -0.44008,-4.75009 z"
         id="path2991"
         inkscape:connector-curvature="0"
         sodipodi:nodetypes="cccc" />
      <path
         style="fill:#000000;stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
         d="m 665.67537,508.00792 c 4.13445,-4.23376 5.65909,-16.14927 5.62971,-15.91986 -0.68185,5.32365 -2.02371,10.79795 -5.42022,15.06936 -2.26421,2.88157 -5.8962,3.59134 -7.48624,3.23957 -4.66074,-0.50154 -4.91608,-4.18437 -5.65193,-8.23608 -0.10462,-0.57606 -0.55251,-2.23088 -2.40042,-0.71228 -2.28916,2.55542 -2.32441,6.5932 -0.85636,8.03346 5.2342,5.13508 12.05102,2.75959 16.18546,-1.47417 z"
         id="path3763"
         inkscape:connector-curvature="0"
         sodipodi:nodetypes="zsccscsz" />
      <path
         inkscape:connector-curvature="0"
         id="path3846"
         style="fill:#000000;stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
         d="m 493.65967,486.07849 c 117.77719,-29.78972 182.70067,302.04509 48.13304,341.8111 -193.81862,57.27524 -172.17339,-310.43722 -48.13304,-341.8111 z m 13.68655,-7.29079 c -115.06127,1.20709 -170.54197,344.38926 -2.66791,357.14286 182.47821,13.8631 117.72918,-358.34995 2.66791,-357.14286 z" />
    </g>
    <path
       sodipodi:nodetypes="cc"
       transform="translate(0,-10.631225)"
       inkscape:connector-curvature="0"
       id="path3153"
       d="m 260,532.99207 c 60,100 160,260 160,330"
       style="fill:none;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    <text
       inkscape:transform-center-x="1.425589"
       transform="matrix(-0.40176277,-0.91574378,0.91574378,-0.40176277,0,0)"
       xml:space="preserve"
       style="font-size:45px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Iwona;-inkscape-font-specification:Iwona"
       x="-779.19965"
       y="575.43018"
       id="text3183"
       sodipodi:linespacing="125%"
       inkscape:transform-center-y="2.2692019"><tspan
         sodipodi:role="line"
         id="tspan3185"
         x="-779.19965"
         y="575.43018">est</tspan></text>
    <rect
       transform="matrix(-0.38507619,-0.92288479,0.92288479,-0.38507619,0,0)"
       style="fill:none;stroke:#008080;stroke-width:0.99999994;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:3.99999977, 1.99999989, 0.99999997, 1.99999989;stroke-dashoffset:0"
       id="rect4875"
       width="188.108"
       height="109.72966"
       x="-844.39709"
       y="527.99518"
       rx="0"
       ry="0" />
  </g>
  <ns1:frame
     id="frame1"
     ns1:refid="rect2993"
     ns1:title="Ceci"
     ns1:sequence="1"
     ns1:hide="true"
     ns1:timeout-enable="true"
     ns1:timeout-ms="1500.0"
     ns1:transition-duration-ms="1000.0"
     ns1:transition-profile="accelerate-decelerate" />
  <ns1:frame
     id="frame2"
     ns1:refid="rect3765"
     ns1:title="n'est"
     ns1:sequence="2"
     ns1:hide="true"
     ns1:timeout-enable="true"
     ns1:timeout-ms="1500.0"
     ns1:transition-duration-ms="0.0"
     ns1:transition-profile="linear" />
  <ns1:frame
     id="frame3"
     ns1:refid="rect3767"
     ns1:title="pas"
     ns1:sequence="3"
     ns1:hide="true"
     ns1:timeout-enable="true"
     ns1:timeout-ms="1500.0"
     ns1:transition-duration-ms="0.0"
     ns1:transition-profile="linear" />
  <ns1:frame
     id="frame4"
     ns1:refid="rect3769"
     ns1:title="un"
     ns1:sequence="4"
     ns1:hide="true"
     ns1:timeout-enable="true"
     ns1:timeout-ms="1500.0"
     ns1:transition-duration-ms="0.0"
     ns1:transition-profile="linear" />
  <ns1:frame
     id="frame5"
     ns1:refid="rect3771"
     ns1:title="diaporama"
     ns1:sequence="5"
     ns1:hide="true"
     ns1:timeout-enable="true"
     ns1:timeout-ms="2000.0"
     ns1:transition-duration-ms="0.0"
     ns1:transition-profile="linear" />
  <ns1:frame
     id="frame7"
     ns1:refid="rect3773"
     ns1:title="Ceci"
     ns1:sequence="7"
     ns1:hide="true"
     ns1:timeout-enable="true"
     ns1:timeout-ms="1500.0"
     ns1:transition-duration-ms="1000.0"
     ns1:transition-profile="accelerate-decelerate" />
  <ns1:frame
     id="frame9"
     ns1:refid="rect3787"
     ns1:title="Sozi"
     ns1:sequence="9"
     ns1:hide="true"
     ns1:timeout-enable="true"
     ns1:timeout-ms="5000.0"
     ns1:transition-duration-ms="1000.0"
     ns1:transition-profile="accelerate-decelerate" />
  <ns1:frame
     id="frame6"
     ns1:refid="rect4308"
     ns1:title="Ceci n'est pas un diaporama"
     ns1:sequence="6"
     ns1:hide="true"
     ns1:timeout-enable="true"
     ns1:timeout-ms="1000.0"
     ns1:transition-duration-ms="1000.0"
     ns1:transition-profile="accelerate-decelerate" />
  <ns1:frame
     id="frame8"
     ns1:refid="rect4875"
     ns1:title="est"
     ns1:sequence="8"
     ns1:hide="true"
     ns1:timeout-enable="true"
     ns1:timeout-ms="1500.0"
     ns1:transition-duration-ms="1000.0"
     ns1:transition-profile="accelerate-decelerate" />
  <script
     ns1:version="13.11-12104710"
     id="sozi-script">function namespace(globals,path,body){&quot;use strict&quot;;var current=globals;path.split(&quot;.&quot;).forEach(function(name){if(typeof current[name]===&quot;undefined&quot;){current[name]={}}current=current[name]});if(body){body(current,globals)}return current}namespace(this,&quot;sozi.events&quot;,function(exports){&quot;use strict&quot;;var listenerRegistry={};exports.listen=function(key,handler){if(!listenerRegistry.hasOwnProperty(key)){listenerRegistry[key]=[]}listenerRegistry[key].push(handler)};exports.fire=function(key){var args=Array.prototype.slice.call(arguments,1);if(listenerRegistry.hasOwnProperty(key)){listenerRegistry[key].forEach(function(listener){listener.apply(null,args)})}}});namespace(this,&quot;sozi.proto&quot;,function(exports){&quot;use strict&quot;;exports.Object={installConstructors:function(){function InstanceConstructor(){}InstanceConstructor.prototype=this;this.instance=function(){var result=new InstanceConstructor;result.construct.apply(result,arguments);return result};this.subtype=function(anObject){var result=new InstanceConstructor;result.augment(anObject);result.installConstructors();return result}},construct:function(){},augment:function(anObject){for(var attr in anObject){if(anObject.hasOwnProperty(attr)){this[attr]=anObject[attr]}}return this},bind:function(aFunction){var self=this;return function(){return aFunction.apply(self,arguments)}}};exports.Object.installConstructors()});namespace(this,&quot;sozi.actions&quot;,function(exports,window){&quot;use strict&quot;;var player=namespace(window,&quot;sozi.player&quot;);var display=namespace(window,&quot;sozi.display&quot;);var document=window.document;var DRAG_BUTTON=0;var TOC_BUTTON=1;var SCALE_FACTOR=1.05;var ROTATE_STEP=5;var DRAG_THRESHOLD_PX=5;var mouseDragged=false;var mouseLastX=0;var mouseLastY=0;function zoom(direction,x,y){player.stop();display.viewPorts[&quot;player&quot;].zoom(direction&gt;0?SCALE_FACTOR:1/SCALE_FACTOR,x,y)}function rotate(direction){player.stop();display.viewPorts[&quot;player&quot;].rotate(direction&gt;0?ROTATE_STEP:-ROTATE_STEP)}function toggleFrameList(){if(sozi.framelist.isVisible()){sozi.framelist.hide();player.restart()}else{player.stop();sozi.framelist.show()}}function isPlayerEvent(evt){return display.viewPorts[&quot;player&quot;].contains(evt.clientX,evt.clientY)}function onMouseDown(evt){if(!isPlayerEvent(evt)){return}if(evt.button===DRAG_BUTTON){document.documentElement.addEventListener(&quot;mousemove&quot;,onMouseDrag,false);mouseDragged=false;mouseLastX=evt.clientX;mouseLastY=evt.clientY}else if(evt.button===TOC_BUTTON){toggleFrameList()}evt.stopPropagation();evt.preventDefault()}function onMouseDrag(evt){if(!isPlayerEvent(evt)){return}player.stop();if(!mouseDragged&amp;&amp;(Math.abs(evt.clientX-mouseLastX)&gt;DRAG_THRESHOLD_PX||Math.abs(evt.clientY-mouseLastY)&gt;DRAG_THRESHOLD_PX)){mouseDragged=true}if(mouseDragged){sozi.events.fire(&quot;sozi.player.cleanup&quot;);display.viewPorts[&quot;player&quot;].drag(evt.clientX-mouseLastX,evt.clientY-mouseLastY);mouseLastX=evt.clientX;mouseLastY=evt.clientY}evt.stopPropagation()}function onMouseUp(evt){if(!isPlayerEvent(evt)){return}if(evt.button===DRAG_BUTTON){document.documentElement.removeEventListener(&quot;mousemove&quot;,onMouseDrag,false)}evt.stopPropagation();evt.preventDefault()}function onContextMenu(evt){if(!isPlayerEvent(evt)){return}player.moveToPrevious();evt.stopPropagation();evt.preventDefault()}function onClick(evt){if(!isPlayerEvent(evt)){return}if(!mouseDragged&amp;&amp;evt.button!==TOC_BUTTON){player.moveToNext()}evt.stopPropagation();evt.preventDefault()}function onWheel(evt){if(!isPlayerEvent(evt)){return}if(!evt){evt=window.event}var delta=0;if(evt.wheelDelta){delta=evt.wheelDelta}else if(evt.detail){delta=-evt.detail}if(delta!==0){if(evt.shiftKey){rotate(delta)}else{zoom(delta,evt.clientX,evt.clientY)}}evt.stopPropagation();evt.preventDefault()}function onKeyPress(evt){if(evt.altKey||evt.ctrlKey||evt.metaKey){return}switch(evt.charCode||evt.which){case 43:zoom(1,window.innerWidth/2,window.innerHeight/2);break;case 45:zoom(-1,window.innerWidth/2,window.innerHeight/2);break;case 61:player.moveToCurrent();break;case 70:case 102:player.showAll();break;case 84:case 116:toggleFrameList();break;case 82:rotate(-1);break;case 114:rotate(1);break;default:return}evt.stopPropagation();evt.preventDefault()}function onKeyDown(evt){if(evt.altKey||evt.ctrlKey||evt.metaKey){return}switch(evt.keyCode){case 36:if(evt.shiftKey){player.jumpToFirst()}else{player.moveToFirst()}break;case 35:if(evt.shiftKey){player.jumpToLast()}else{player.moveToLast()}break;case 38:case 33:case 37:if(evt.shiftKey){player.jumpToPrevious()}else{player.moveToPrevious()}break;case 40:case 34:case 39:case 13:case 32:if(evt.shiftKey){player.jumpToNext()}else{player.moveToNext()}break;default:return}evt.stopPropagation()}function stopEvent(evt){evt.stopPropagation()}function onDisplayReady(){var links=document.getElementsByTagName(&quot;a&quot;);for(var i=0;i&lt;links.length;i+=1){links[i].addEventListener(&quot;click&quot;,stopEvent,false);links[i].addEventListener(&quot;contextmenu&quot;,stopEvent,false)}var svgRoot=document.documentElement;svgRoot.addEventListener(&quot;click&quot;,onClick,false);svgRoot.addEventListener(&quot;mousedown&quot;,onMouseDown,false);svgRoot.addEventListener(&quot;mouseup&quot;,onMouseUp,false);svgRoot.addEventListener(&quot;contextmenu&quot;,onContextMenu,false);svgRoot.addEventListener(&quot;DOMMouseScroll&quot;,onWheel,false);window.onmousewheel=onWheel;svgRoot.addEventListener(&quot;keypress&quot;,onKeyPress,false);svgRoot.addEventListener(&quot;keydown&quot;,onKeyDown,false)}sozi.events.listen(&quot;sozi.display.ready&quot;,onDisplayReady)});namespace(this,&quot;sozi.animation&quot;,function(exports,window){&quot;use strict&quot;;var requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;var getCurrentTime=function(){return window.performance&amp;&amp;window.performance.now?window.performance.now():Date.now()};exports.setAnimationFrameHandlers=function(requestAnimationFrameFunction,getCurrentTimeFunction){requestAnimationFrame=requestAnimationFrameFunction;getCurrentTime=getCurrentTimeFunction};var TIME_STEP_MS=40;var timer;var animatorList=[];function loop(){if(animatorList.length&gt;0){if(requestAnimationFrame){requestAnimationFrame(loop)}animatorList.forEach(function(animator){animator.step(getCurrentTime())})}else{if(!requestAnimationFrame){window.clearInterval(timer)}}}function start(){if(requestAnimationFrame){requestAnimationFrame(loop)}else{timer=window.setInterval(function(){loop(getCurrentTime())},TIME_STEP_MS)}}function addAnimator(animator){animatorList.push(animator);if(animatorList.length===1){start()}}function removeAnimator(animator){animatorList.splice(animatorList.indexOf(animator),1)}exports.Animator=sozi.proto.Object.subtype({construct:function(){this.durationMs=0;this.data=null;this.initialTime=0;this.started=false},start:function(durationMs,data){this.durationMs=durationMs;this.data=data;this.initialTime=getCurrentTime();this.onStep(0);if(!this.started){this.started=true;addAnimator(this)}},stop:function(){if(this.started){removeAnimator(this);this.started=false}},step:function(currentTime){var elapsedTime=currentTime-this.initialTime;if(elapsedTime&gt;=this.durationMs){this.stop();this.onStep(1);this.onDone()}else{this.onStep(elapsedTime/this.durationMs)}},onStep:function(progress){},onDone:function(){}});exports.profiles={linear:function(x){return x},accelerate:function(x){return Math.pow(x,3)},&quot;strong-accelerate&quot;:function(x){return Math.pow(x,5)},decelerate:function(x){return 1-Math.pow(1-x,3)},&quot;strong-decelerate&quot;:function(x){return 1-Math.pow(1-x,5)},&quot;accelerate-decelerate&quot;:function(x){var xs=x&lt;=.5?x:1-x,y=Math.pow(2*xs,3)/2;return x&lt;=.5?y:1-y},&quot;strong-accelerate-decelerate&quot;:function(x){var xs=x&lt;=.5?x:1-x,y=Math.pow(2*xs,5)/2;return x&lt;=.5?y:1-y},&quot;decelerate-accelerate&quot;:function(x){var xs=x&lt;=.5?x:1-x,y=(1-Math.pow(1-2*xs,2))/2;return x&lt;=.5?y:1-y},&quot;strong-decelerate-accelerate&quot;:function(x){var xs=x&lt;=.5?x:1-x,y=(1-Math.pow(1-2*xs,3))/2;return x&lt;=.5?y:1-y},&quot;immediate-beginning&quot;:function(x){return 1},&quot;immediate-end&quot;:function(x){return x===1?1:0},&quot;immediate-middle&quot;:function(x){return x&gt;=.5?1:0}}});namespace(this,&quot;sozi.display&quot;,function(exports,window){&quot;use strict&quot;;var SVG_NS=&quot;http://www.w3.org/2000/svg&quot;;var XLINK_NS=&quot;http://www.w3.org/1999/xlink&quot;;var document=window.document;var initialBBox;var lastWindowWidth;var lastWindowHeight;exports.viewPorts={};var primaryViewport;exports.CameraState=sozi.proto.Object.subtype({construct:function(){this.cx=this.cy=0;this.width=this.height=1;this.angle=0;this.clipped=true;this.transitionZoomPercent=0;this.transitionProfile=sozi.animation.profiles.linear;this.transitionPath=null},setCenter:function(cx,cy){this.cx=cx;this.cy=cy;return this},setSize:function(width,height){this.width=width;this.height=height;return this},setClipped:function(clipped){this.clipped=clipped;return this},setAngle:function(angle){this.angle=(angle+180)%360-180;return this},setRawAngle:function(angle){this.angle=angle;return this},setTransitionZoomPercent:function(zoomPercent){this.transitionZoomPercent=zoomPercent;return this},setTransitionProfile:function(profile){this.transitionProfile=profile;return this},setTransitionPath:function(svgPath){this.transitionPath=svgPath;return this},setAtElement:function(svgElement){var x,y,w,h;if(svgElement.nodeName===&quot;rect&quot;){x=svgElement.x.baseVal.value;y=svgElement.y.baseVal.value;w=svgElement.width.baseVal.value;h=svgElement.height.baseVal.value}else{var b=svgElement.getBBox();x=b.x;y=b.y;w=b.width;h=b.height}var c=document.documentElement.createSVGPoint();c.x=x+w/2;c.y=y+h/2;var matrix=svgElement.getCTM();c=c.matrixTransform(matrix);var scale=Math.sqrt(matrix.a*matrix.a+matrix.b*matrix.b);return this.setCenter(c.x,c.y).setSize(w*scale,h*scale).setAngle(Math.atan2(matrix.b,matrix.a)*180/Math.PI)},setAtState:function(other){return this.setCenter(other.cx,other.cy).setSize(other.width,other.height).setAngle(other.angle).setClipped(other.clipped).setTransitionZoomPercent(other.transitionZoomPercent).setTransitionProfile(other.transitionProfile).setTransitionPath(other.transitionPath)},interpolatableAttributes:[&quot;width&quot;,&quot;height&quot;,&quot;angle&quot;],interpolate:function(initialState,finalState,ratio,useTransitionPath,reverseTransitionPath){var remaining=1-ratio;for(var i=0;i&lt;this.interpolatableAttributes.length;i+=1){var attr=this.interpolatableAttributes[i];this[attr]=finalState[attr]*ratio+initialState[attr]*remaining}var svgPath=reverseTransitionPath?initialState.transitionPath:finalState.transitionPath;if(useTransitionPath&amp;&amp;svgPath){var pathLength=svgPath.getTotalLength();if(reverseTransitionPath){var startPoint=svgPath.getPointAtLength(pathLength);var endPoint=svgPath.getPointAtLength(0);var currentPoint=svgPath.getPointAtLength(pathLength*remaining)}else{var startPoint=svgPath.getPointAtLength(0);var endPoint=svgPath.getPointAtLength(pathLength);var currentPoint=svgPath.getPointAtLength(pathLength*ratio)}this.cx=currentPoint.x+(finalState.cx-endPoint.x)*ratio+(initialState.cx-startPoint.x)*remaining;this.cy=currentPoint.y+(finalState.cy-endPoint.y)*ratio+(initialState.cy-startPoint.y)*remaining}else{this.cx=finalState.cx*ratio+initialState.cx*remaining;this.cy=finalState.cy*ratio+initialState.cy*remaining}}});exports.Camera=exports.CameraState.subtype({construct:function(viewPort,idLayer){exports.CameraState.construct.call(this);this.viewPort=viewPort;this.svgClipRect=document.createElementNS(SVG_NS,&quot;rect&quot;);var svgClipPath=document.createElementNS(SVG_NS,&quot;clipPath&quot;);svgClipPath.setAttribute(&quot;id&quot;,&quot;sozi-clip-path-&quot;+viewPort.id+&quot;-&quot;+idLayer);svgClipPath.appendChild(this.svgClipRect);viewPort.svgGroup.appendChild(svgClipPath);var svgClippedGroup=document.createElementNS(SVG_NS,&quot;g&quot;);svgClippedGroup.setAttribute(&quot;clip-path&quot;,&quot;url(#sozi-clip-path-&quot;+viewPort.id+&quot;-&quot;+idLayer+&quot;)&quot;);viewPort.svgGroup.appendChild(svgClippedGroup);if(viewPort.isPrimary){this.svgLayer=document.createElementNS(SVG_NS,&quot;g&quot;);this.svgLayer.appendChild(document.getElementById(idLayer))}else{this.svgLayer=document.createElementNS(SVG_NS,&quot;use&quot;);this.svgLayer.setAttributeNS(XLINK_NS,&quot;href&quot;,&quot;#&quot;+idLayer)}svgClippedGroup.appendChild(this.svgLayer)},setAtState:function(other){return exports.CameraState.setAtState.call(this,other).update()},getScale:function(){return Math.min(this.viewPort.width/this.width,this.viewPort.height/this.height)},rotate:function(angle){return this.setAngle(this.angle+angle).update()},zoom:function(factor,x,y){return this.setSize(this.width/factor,this.height/factor).drag((1-factor)*(x-this.viewPort.width/2),(1-factor)*(y-this.viewPort.height/2))},drag:function(deltaX,deltaY){var scale=this.getScale();var angleRad=this.angle*Math.PI/180;var si=Math.sin(angleRad);var co=Math.cos(angleRad);return this.setCenter(this.cx-(deltaX*co-deltaY*si)/scale,this.cy-(deltaX*si+deltaY*co)/scale).setClipped(false).update()},update:function(){var scale=this.getScale();var width=this.width*scale;var height=this.height*scale;var x=(this.viewPort.width-width)/2;var y=(this.viewPort.height-height)/2;this.svgClipRect.setAttribute(&quot;x&quot;,this.clipped?x:0);this.svgClipRect.setAttribute(&quot;y&quot;,this.clipped?y:0);this.svgClipRect.setAttribute(&quot;width&quot;,this.clipped?width:this.viewPort.width);this.svgClipRect.setAttribute(&quot;height&quot;,this.clipped?height:this.viewPort.height);var translateX=-this.cx+this.width/2+x/scale;var translateY=-this.cy+this.height/2+y/scale;this.svgLayer.setAttribute(&quot;transform&quot;,&quot;scale(&quot;+scale+&quot;)&quot;+&quot;translate(&quot;+translateX+&quot;,&quot;+translateY+&quot;)&quot;+&quot;rotate(&quot;+-this.angle+&quot;,&quot;+this.cx+&quot;,&quot;+this.cy+&quot;)&quot;);return this}});exports.ViewPort=sozi.proto.Object.subtype({construct:function(id,idLayerList,primary){this.id=id;exports.viewPorts[id]=this;this.isPrimary=!!primary;if(this.isPrimary){if(primaryViewport){throw&quot;Failed to create a primary viewport. A primary viewport already exists.&quot;}else{primaryViewport=this}}this.svgGroup=document.createElementNS(SVG_NS,&quot;g&quot;);this.svgGroup.setAttribute(&quot;class&quot;,&quot;sozi-viewport&quot;);this.svgGroup.setAttribute(&quot;id&quot;,&quot;sozi-viewport-&quot;+id);document.documentElement.appendChild(this.svgGroup);this.setLocation(0,0).setSize(window.innerWidth,window.innerHeight);this.cameras={};idLayerList.forEach(function(idLayer){this.cameras[idLayer]=exports.Camera.instance(this,idLayer)},this)},setSize:function(width,height){this.width=width;this.height=height;return this},setLocation:function(x,y){this.x=x;this.y=y;return this},contains:function(x,y){return x&gt;=this.x&amp;&amp;x&lt;this.x+this.width&amp;&amp;y&gt;=this.y&amp;&amp;y&lt;this.y+this.height},getDocumentState:function(){var camera=exports.CameraState.instance().setCenter(initialBBox.x+initialBBox.width/2,initialBBox.y+initialBBox.height/2).setSize(initialBBox.width,initialBBox.height).setClipped(false);var result={};for(var idLayer in this.cameras){result[idLayer]=camera}return result},update:function(){this.svgGroup.setAttribute(&quot;transform&quot;,&quot;translate(&quot;+this.x+&quot;,&quot;+this.y+&quot;)&quot;);for(var idLayer in this.cameras){this.cameras[idLayer].update()}return this},showFrame:function(frame){for(var idLayer in frame.states){this.cameras[idLayer].setAtState(frame.states[idLayer])}return this},drag:function(deltaX,deltaY){for(var idLayer in this.cameras){this.cameras[idLayer].drag(deltaX,deltaY)}return this},zoom:function(factor,x,y){for(var idLayer in this.cameras){this.cameras[idLayer].zoom(factor,x,y)}return this},rotate:function(angle){for(var idLayer in this.cameras){this.cameras[idLayer].rotate(angle)}return this},onWindowResize:function(widthRatio,heightRatio){this.setLocation(this.x*widthRatio,this.y*heightRatio).setSize(this.width*widthRatio,this.height*heightRatio).update()}});function onDocumentReady(){var svgRoot=document.documentElement;initialBBox=svgRoot.getBBox();lastWindowWidth=window.innerWidth;lastWindowHeight=window.innerHeight;svgRoot.setAttribute(&quot;width&quot;,lastWindowWidth);svgRoot.setAttribute(&quot;height&quot;,lastWindowHeight);sozi.events.fire(&quot;sozi.display.ready&quot;)}function resize(){var svgRoot=document.documentElement;svgRoot.setAttribute(&quot;width&quot;,window.innerWidth);svgRoot.setAttribute(&quot;height&quot;,window.innerHeight);for(var vp in exports.viewPorts){exports.viewPorts[vp].onWindowResize(window.innerWidth/lastWindowWidth,window.innerHeight/lastWindowHeight)}lastWindowWidth=window.innerWidth;lastWindowHeight=window.innerHeight}sozi.events.listen(&quot;sozi.document.ready&quot;,onDocumentReady);window.addEventListener(&quot;resize&quot;,resize,false)});namespace(this,&quot;sozi.document&quot;,function(exports,window){&quot;use strict&quot;;var document=window.document;var SOZI_NS=&quot;http://sozi.baierouge.fr&quot;;var DEFAULTS={title:&quot;Untitled&quot;,sequence:&quot;0&quot;,hide:&quot;true&quot;,clip:&quot;true&quot;,&quot;show-in-frame-list&quot;:&quot;true&quot;,&quot;timeout-enable&quot;:&quot;false&quot;,&quot;timeout-ms&quot;:&quot;5000&quot;,&quot;transition-duration-ms&quot;:&quot;1000&quot;,&quot;transition-zoom-percent&quot;:&quot;0&quot;,&quot;transition-profile&quot;:&quot;linear&quot;,&quot;transition-path-hide&quot;:&quot;true&quot;};var DRAWABLE_TAGS=[&quot;g&quot;,&quot;image&quot;,&quot;path&quot;,&quot;rect&quot;,&quot;circle&quot;,&quot;ellipse&quot;,&quot;line&quot;,&quot;polyline&quot;,&quot;polygon&quot;,&quot;text&quot;,&quot;clippath&quot;];exports.frames=[];exports.idLayerList=[];function readAttribute(soziElement,attr){return soziElement.getAttributeNS(SOZI_NS,attr)||DEFAULTS[attr]}function readStateForLayer(frame,idLayer,soziElement){var state=frame.states[idLayer]=frame.states[idLayer]||sozi.display.CameraState.instance();if(typeof state.transitionZoomPercent===&quot;undefined&quot;||soziElement.hasAttributeNS(SOZI_NS,&quot;transition-zoom-percent&quot;)){state.setTransitionZoomPercent(parseInt(readAttribute(soziElement,&quot;transition-zoom-percent&quot;),10))}if(typeof state.transitionProfile===&quot;undefined&quot;||soziElement.hasAttributeNS(SOZI_NS,&quot;transition-profile&quot;)){state.setTransitionProfile(sozi.animation.profiles[readAttribute(soziElement,&quot;transition-profile&quot;)])}if(typeof state.transitionPath===&quot;undefined&quot;||soziElement.hasAttributeNS(SOZI_NS,&quot;transition-path&quot;)){var svgPath=document.getElementById(soziElement.getAttributeNS(SOZI_NS,&quot;transition-path&quot;));if(svgPath&amp;&amp;svgPath.nodeName===&quot;path&quot;){state.setTransitionPath(svgPath);if(readAttribute(soziElement,&quot;transition-path-hide&quot;)===&quot;true&quot;){svgPath.style.visibility=&quot;hidden&quot;}}}if(soziElement.hasAttributeNS(SOZI_NS,&quot;refid&quot;)){var svgElement=document.getElementById(soziElement.getAttributeNS(SOZI_NS,&quot;refid&quot;));if(svgElement){state.setAtElement(svgElement);if(readAttribute(soziElement,&quot;hide&quot;)===&quot;true&quot;){svgElement.style.visibility=&quot;hidden&quot;}}}if(soziElement.hasAttributeNS(SOZI_NS,&quot;clip&quot;)){state.setClipped(readAttribute(soziElement,&quot;clip&quot;)===&quot;true&quot;)}}function readFrames(){var idLayerRefList=[];var soziLayerList=document.getElementsByTagNameNS(SOZI_NS,&quot;layer&quot;);for(var i=0;i&lt;soziLayerList.length;i+=1){var idLayer=soziLayerList[i].getAttributeNS(SOZI_NS,&quot;group&quot;);if(idLayer&amp;&amp;idLayerRefList.indexOf(idLayer)===-1){idLayerRefList.push(idLayer)}}var svgRoot=document.documentElement;var SVG_NS=&quot;http://www.w3.org/2000/svg&quot;;var svgWrapper=document.createElementNS(SVG_NS,&quot;g&quot;);var svgElementList=Array.prototype.slice.call(svgRoot.childNodes);svgElementList.forEach(function(svgElement,index){if(!svgElement.getAttribute){svgRoot.removeChild(svgElement)}else if(idLayerRefList.indexOf(svgElement.getAttribute(&quot;id&quot;))!==-1){if(svgWrapper.firstChild){svgWrapper.setAttribute(&quot;id&quot;,&quot;sozi-wrapper-&quot;+index);exports.idLayerList.push(&quot;sozi-wrapper-&quot;+index);svgRoot.insertBefore(svgWrapper,svgElement);svgWrapper=document.createElementNS(SVG_NS,&quot;g&quot;)}exports.idLayerList.push(svgElement.getAttribute(&quot;id&quot;))}else if(DRAWABLE_TAGS.indexOf(svgElement.localName.toLowerCase())!==-1){svgRoot.removeChild(svgElement);svgWrapper.appendChild(svgElement)}});if(svgWrapper.firstChild){svgWrapper.setAttribute(&quot;id&quot;,&quot;sozi-wrapper-&quot;+svgElementList.length);exports.idLayerList.push(&quot;sozi-wrapper-&quot;+svgElementList.length);svgRoot.appendChild(svgWrapper)}var soziFrameList=Array.prototype.slice.call(document.getElementsByTagNameNS(SOZI_NS,&quot;frame&quot;));soziFrameList.sort(function(a,b){var seqA=parseInt(readAttribute(a,&quot;sequence&quot;),10);var seqB=parseInt(readAttribute(b,&quot;sequence&quot;),10);return seqA-seqB});soziFrameList.forEach(function(soziFrame,indexFrame){var newFrame={id:soziFrame.getAttribute(&quot;id&quot;),title:readAttribute(soziFrame,&quot;title&quot;),showInFrameList:readAttribute(soziFrame,&quot;show-in-frame-list&quot;)===&quot;true&quot;,sequence:parseInt(readAttribute(soziFrame,&quot;sequence&quot;),10),timeoutEnable:readAttribute(soziFrame,&quot;timeout-enable&quot;)===&quot;true&quot;,timeoutMs:parseInt(readAttribute(soziFrame,&quot;timeout-ms&quot;),10),transitionDurationMs:parseInt(readAttribute(soziFrame,&quot;transition-duration-ms&quot;),10),states:{}};exports.idLayerList.forEach(function(idLayer){if(indexFrame===0||idLayer.search(&quot;sozi-wrapper-[0-9]+&quot;)!==-1){readStateForLayer(newFrame,idLayer,soziFrame)}else{var currentState=newFrame.states[idLayer]=sozi.display.CameraState.instance();var previousState=exports.frames[exports.frames.length-1].states[idLayer];currentState.setAtState(previousState)}});var soziLayerList=Array.prototype.slice.call(soziFrame.getElementsByTagNameNS(SOZI_NS,&quot;layer&quot;));soziLayerList.forEach(function(soziLayer){var idLayer=soziLayer.getAttributeNS(SOZI_NS,&quot;group&quot;);if(idLayer&amp;&amp;exports.idLayerList.indexOf(idLayer)!==-1){readStateForLayer(newFrame,idLayer,soziLayer)}});for(var idLayer in newFrame.states){if(newFrame.states.hasOwnProperty(idLayer)){exports.frames.push(newFrame);break}}})}exports.getFrameIndexForId=function(idFrame){for(var indexFrame=0;indexFrame&lt;exports.frames.length;indexFrame+=1){if(exports.frames[indexFrame].id===idFrame){return indexFrame}}return-1};function onLoad(){document.documentElement.removeAttribute(&quot;viewBox&quot;);readFrames();sozi.events.fire(&quot;sozi.document.ready&quot;)}window.addEventListener(&quot;load&quot;,onLoad,false)});namespace(this,&quot;sozi.framelist&quot;,function(exports,window){&quot;use strict&quot;;var document=window.document;var MARGIN=5;var svgTocGroup;var svgTitlesGroup;var tocHeight=0;var translateXHidden;var translateXVisible;var translateXStart;var translateXEnd;var translateX;var animator;var ANIMATION_TIME_MS=300;var ANIMATION_PROFILE=&quot;decelerate&quot;;var SVG_NS=&quot;http://www.w3.org/2000/svg&quot;;function onMouseOut(evt){var rel=evt.relatedTarget,svgRoot=document.documentElement;while(rel&amp;&amp;rel!==svgTocGroup&amp;&amp;rel!==svgRoot){rel=rel.parentNode}if(rel!==svgTocGroup){exports.hide();sozi.player.restart();evt.stopPropagation()}}function onClickArrowUp(evt){var ty=svgTitlesGroup.getCTM().f;if(ty&lt;=-window.innerHeight/2){ty+=window.innerHeight/2}else if(ty&lt;0){ty=0}svgTitlesGroup.setAttribute(&quot;transform&quot;,&quot;translate(0,&quot;+ty+&quot;)&quot;);evt.stopPropagation()}function onClickArrowDown(evt){var ty=svgTitlesGroup.getCTM().f;if(ty+tocHeight&gt;=window.innerHeight*3/2){ty-=window.innerHeight/2}else if(ty+tocHeight&gt;window.innerHeight+2*MARGIN){ty=window.innerHeight-tocHeight-4*MARGIN}svgTitlesGroup.setAttribute(&quot;transform&quot;,&quot;translate(0,&quot;+ty+&quot;)&quot;);evt.stopPropagation()}function makeClickHandler(index){return function(evt){sozi.player.previewFrame(index);evt.stopPropagation()}}function defaultEventHandler(evt){evt.stopPropagation()}function onPlayerReady(){svgTocGroup=document.createElementNS(SVG_NS,&quot;g&quot;);svgTocGroup.setAttribute(&quot;id&quot;,&quot;sozi-toc&quot;);document.documentElement.appendChild(svgTocGroup);svgTitlesGroup=document.createElementNS(SVG_NS,&quot;g&quot;);svgTocGroup.appendChild(svgTitlesGroup);var tocBackground=document.createElementNS(SVG_NS,&quot;rect&quot;);tocBackground.setAttribute(&quot;id&quot;,&quot;sozi-toc-background&quot;);tocBackground.setAttribute(&quot;x&quot;,MARGIN);tocBackground.setAttribute(&quot;y&quot;,MARGIN);tocBackground.setAttribute(&quot;rx&quot;,MARGIN);tocBackground.setAttribute(&quot;ry&quot;,MARGIN);tocBackground.addEventListener(&quot;click&quot;,defaultEventHandler,false);tocBackground.addEventListener(&quot;mousedown&quot;,defaultEventHandler,false);tocBackground.addEventListener(&quot;mouseout&quot;,onMouseOut,false);svgTitlesGroup.appendChild(tocBackground);var tocWidth=0;sozi.document.frames.forEach(function(frame,frameIndex){if(frame.showInFrameList){var text=document.createElementNS(SVG_NS,&quot;text&quot;);text.appendChild(document.createTextNode(frame.title));text.setAttribute(&quot;id&quot;,&quot;sozi-toc-&quot;+frame.id);svgTitlesGroup.appendChild(text);if(frameIndex===sozi.player.currentFrameIndex){text.setAttribute(&quot;class&quot;,&quot;sozi-toc-current&quot;)}var textWidth=text.getBBox().width;tocHeight+=text.getBBox().height;if(textWidth&gt;tocWidth){tocWidth=textWidth}text.setAttribute(&quot;x&quot;,2*MARGIN);text.setAttribute(&quot;y&quot;,tocHeight+MARGIN);text.addEventListener(&quot;click&quot;,makeClickHandler(frameIndex),false);text.addEventListener(&quot;mousedown&quot;,defaultEventHandler,false)}});var tocUp=document.createElementNS(SVG_NS,&quot;path&quot;);tocUp.setAttribute(&quot;class&quot;,&quot;sozi-toc-arrow&quot;);tocUp.setAttribute(&quot;d&quot;,&quot;M&quot;+(tocWidth+3*MARGIN)+&quot;,&quot;+5*MARGIN+&quot; l&quot;+4*MARGIN+&quot;,0&quot;+&quot; l-&quot;+2*MARGIN+&quot;,-&quot;+3*MARGIN+&quot; z&quot;);tocUp.addEventListener(&quot;click&quot;,onClickArrowUp,false);tocUp.addEventListener(&quot;mousedown&quot;,defaultEventHandler,false);svgTocGroup.appendChild(tocUp);var tocDown=document.createElementNS(SVG_NS,&quot;path&quot;);tocDown.setAttribute(&quot;class&quot;,&quot;sozi-toc-arrow&quot;);tocDown.setAttribute(&quot;d&quot;,&quot;M&quot;+(tocWidth+3*MARGIN)+&quot;,&quot;+7*MARGIN+&quot; l&quot;+4*MARGIN+&quot;,0&quot;+&quot; l-&quot;+2*MARGIN+&quot;,&quot;+3*MARGIN+&quot; z&quot;);tocDown.addEventListener(&quot;click&quot;,onClickArrowDown,false);tocDown.addEventListener(&quot;mousedown&quot;,defaultEventHandler,false);svgTocGroup.appendChild(tocDown);tocBackground.setAttribute(&quot;width&quot;,tocWidth+7*MARGIN);tocBackground.setAttribute(&quot;height&quot;,tocHeight+2*MARGIN);translateXHidden=-tocWidth-9*MARGIN;translateXVisible=0;translateX=translateXEnd=translateXHidden;svgTocGroup.setAttribute(&quot;transform&quot;,&quot;translate(&quot;+translateXHidden+&quot;,0)&quot;);animator=sozi.animation.Animator.instance().augment({onStep:function(progress){var profileProgress=sozi.animation.profiles[ANIMATION_PROFILE](progress),remaining=1-profileProgress;translateX=translateXEnd*profileProgress+translateXStart*remaining;svgTocGroup.setAttribute(&quot;transform&quot;,&quot;translate(&quot;+translateX+&quot;,0)&quot;)}})}function onFrameChange(index){var currentElementList=Array.prototype.slice.call(document.getElementsByClassName(&quot;sozi-toc-current&quot;));currentElementList.forEach(function(svgElement){svgElement.removeAttribute(&quot;class&quot;)});var frame=sozi.document.frames[index];if(frame.showInFrameList){document.getElementById(&quot;sozi-toc-&quot;+frame.id).setAttribute(&quot;class&quot;,&quot;sozi-toc-current&quot;)}}exports.show=function(){document.documentElement.appendChild(svgTocGroup);translateXStart=translateX;translateXEnd=translateXVisible;animator.start(ANIMATION_TIME_MS)};exports.hide=function(){translateXStart=translateX;translateXEnd=translateXHidden;animator.start(ANIMATION_TIME_MS)};exports.isVisible=function(){return translateXEnd===translateXVisible};sozi.events.listen(&quot;sozi.player.ready&quot;,onPlayerReady);sozi.events.listen(&quot;sozi.player.cleanup&quot;,exports.hide);sozi.events.listen(&quot;sozi.player.framechange&quot;,onFrameChange)});namespace(this,&quot;sozi.framenumber&quot;,function(exports,window){&quot;use strict&quot;;var document=window.document;var svgGroup;var svgText,svgTextNode;var svgCircle;var SVG_NS=&quot;http://www.w3.org/2000/svg&quot;;function adjust(){var textBBox=svgText.getBBox(),d=Math.max(textBBox.width,textBBox.height)*.75,t=d*1.25;svgCircle.setAttribute(&quot;r&quot;,d);svgGroup.setAttribute(&quot;transform&quot;,&quot;translate(&quot;+t+&quot;,&quot;+t+&quot;)&quot;)}function onPlayerReady(){svgGroup=document.createElementNS(SVG_NS,&quot;g&quot;);svgText=document.createElementNS(SVG_NS,&quot;text&quot;);svgCircle=document.createElementNS(SVG_NS,&quot;circle&quot;);svgGroup.setAttribute(&quot;id&quot;,&quot;sozi-framenumber&quot;);svgCircle.setAttribute(&quot;cx&quot;,0);svgCircle.setAttribute(&quot;cy&quot;,0);svgGroup.appendChild(svgCircle);svgTextNode=document.createTextNode(sozi.player.currentFrameIndex+1);svgText.setAttribute(&quot;text-anchor&quot;,&quot;middle&quot;);svgText.setAttribute(&quot;dominant-baseline&quot;,&quot;central&quot;);svgText.setAttribute(&quot;x&quot;,0);svgText.setAttribute(&quot;y&quot;,0);svgText.appendChild(svgTextNode);svgGroup.appendChild(svgText);document.documentElement.appendChild(svgGroup);adjust()}function onFrameChange(index){svgTextNode.nodeValue=index+1}sozi.events.listen(&quot;sozi.player.ready&quot;,onPlayerReady);sozi.events.listen(&quot;sozi.player.framechange&quot;,onFrameChange)});namespace(this,&quot;sozi.links&quot;,function(exports,window){&quot;use strict&quot;;var SVG_NS=&quot;http://www.w3.org/2000/svg&quot;;var XLINK_NS=&quot;http://www.w3.org/1999/xlink&quot;;function getClickHandler(index){return function(evt){sozi.player.moveToFrame(index);evt.preventDefault();evt.stopPropagation()}}function onDocumentReady(){var links=window.document.getElementsByTagNameNS(SVG_NS,&quot;a&quot;);for(var i=0;i&lt;links.length;i+=1){var href=links[i].getAttributeNS(XLINK_NS,&quot;href&quot;);if(href&amp;&amp;href[0]===&quot;#&quot;){links[i].addEventListener(&quot;click&quot;,getClickHandler(sozi.location.getFrameIndexForHash(href)),false)}}}sozi.events.listen(&quot;sozi.document.ready&quot;,onDocumentReady)});namespace(this,&quot;sozi.location&quot;,function(exports,window){&quot;use strict&quot;;var changedFromWithin=false;exports.getFrameIndex=function(){return exports.getFrameIndexForHash(window.location.hash)};exports.getFrameIndexForHash=function(hash){var indexOrId=hash?hash.slice(1):&quot;1&quot;;var index;if(/^[0-9]+$/.test(indexOrId)){index=parseInt(indexOrId,10)-1}else{index=sozi.document.getFrameIndexForId(indexOrId)}if(index&lt;0){return 0}else if(index&gt;=sozi.document.frames.length){return sozi.document.frames.length-1}else{return index}};function onHashChange(){var index=exports.getFrameIndex();if(!changedFromWithin){sozi.player.moveToFrame(index)}changedFromWithin=false}function onFrameChange(index){changedFromWithin=true;window.location.hash=&quot;#&quot;+sozi.document.frames[index].id}window.addEventListener(&quot;hashchange&quot;,onHashChange,false);sozi.events.listen(&quot;sozi.player.framechange&quot;,onFrameChange)});namespace(this,&quot;sozi.player&quot;,function(exports,window){&quot;use strict&quot;;var viewPort;var animator;var nextFrameTimeout;var DEFAULT_DURATION_MS=500;var DEFAULT_ZOOM_PERCENT=-10;var DEFAULT_PROFILE=&quot;linear&quot;;var sourceFrameIndex=0;exports.currentFrameIndex=0;var playing=false;var waiting=false;function waitTimeout(){if(sozi.document.frames[exports.currentFrameIndex].timeoutEnable){waiting=true;var index=(exports.currentFrameIndex+1)%sozi.document.frames.length;nextFrameTimeout=window.setTimeout(function(){exports.moveToFrame(index)},sozi.document.frames[exports.currentFrameIndex].timeoutMs)}}exports.startFromIndex=function(index){playing=true;waiting=false;sourceFrameIndex=index;exports.currentFrameIndex=index;viewPort.showFrame(sozi.document.frames[index]);waitTimeout()};exports.restart=function(){exports.startFromIndex(exports.currentFrameIndex)};exports.stop=function(){animator.stop();if(waiting){window.clearTimeout(nextFrameTimeout);waiting=false}playing=false;sourceFrameIndex=exports.currentFrameIndex};function getZoomData(zoomPercent,s0,s1){var result={ss:(zoomPercent&lt;0?Math.max(s0,s1):Math.min(s0,s1))*(100-zoomPercent)/100,ts:.5,k:0};if(zoomPercent!==0){var a=s0-s1;var b=s0-result.ss;var c=s1-result.ss;if(a!==0){var d=Math.sqrt(b*c);var u=(b-d)/a;var v=(b+d)/a;result.ts=u&gt;0&amp;&amp;u&lt;=1?u:v}result.k=b/result.ts/result.ts}return result}exports.jumpToFrame=function(index){exports.stop();sozi.events.fire(&quot;sozi.player.cleanup&quot;);sourceFrameIndex=index;exports.currentFrameIndex=index;viewPort.showFrame(sozi.document.frames[index]);sozi.events.fire(&quot;sozi.player.framechange&quot;,index)};exports.getAnimationData=function(initialState,finalState,zoomPercent,profile,useTransitionPath,reverseTransitionPath){var data={};for(var idLayer in initialState){data[idLayer]={initialState:sozi.display.CameraState.instance(),finalState:sozi.display.CameraState.instance(),useTransitionPath:useTransitionPath,reverseTransitionPath:reverseTransitionPath};data[idLayer].profile=profile||finalState[idLayer].transitionProfile;data[idLayer].initialState.setAtState(initialState[idLayer]);if(finalState.hasOwnProperty(idLayer)){data[idLayer].finalState.setAtState(finalState[idLayer])}else{data[idLayer].finalState.setAtState(initialState[idLayer])}if(data[idLayer].finalState.angle-data[idLayer].initialState.angle&gt;180){data[idLayer].finalState.setRawAngle(data[idLayer].finalState.angle-360)}else if(data[idLayer].finalState.angle-data[idLayer].initialState.angle&lt;-180){data[idLayer].initialState.setRawAngle(data[idLayer].initialState.angle-360)}var zp=zoomPercent||finalState[idLayer].transitionZoomPercent;if(zp&amp;&amp;finalState.hasOwnProperty(idLayer)){data[idLayer].zoomWidth=getZoomData(zp,initialState[idLayer].width,finalState[idLayer].width);data[idLayer].zoomHeight=getZoomData(zp,initialState[idLayer].height,finalState[idLayer].height)}}return data};exports.previewFrame=function(index){exports.currentFrameIndex=index;animator.start(DEFAULT_DURATION_MS,exports.getAnimationData(viewPort.cameras,sozi.document.frames[index].states,DEFAULT_ZOOM_PERCENT,sozi.animation.profiles[DEFAULT_PROFILE]),false,false);
sozi.events.fire(&quot;sozi.player.framechange&quot;,index)};exports.moveToFrame=function(index){if(waiting){window.clearTimeout(nextFrameTimeout);waiting=false}var durationMs,zoomPercent,profile,useTransitionPath,reverseTransitionPath;if(index===(exports.currentFrameIndex-1)%sozi.document.frames.length){durationMs=sozi.document.frames[exports.currentFrameIndex].transitionDurationMs;zoomPercent=undefined;profile=undefined;useTransitionPath=true;reverseTransitionPath=true}else if(index===(exports.currentFrameIndex+1)%sozi.document.frames.length){durationMs=sozi.document.frames[index].transitionDurationMs;zoomPercent=undefined;profile=undefined;useTransitionPath=true;reverseTransitionPath=false}else{durationMs=DEFAULT_DURATION_MS;zoomPercent=DEFAULT_ZOOM_PERCENT;profile=sozi.animation.profiles[DEFAULT_PROFILE];useTransitionPath=false;reverseTransitionPath=false}sozi.events.fire(&quot;sozi.player.cleanup&quot;);playing=true;exports.currentFrameIndex=index;animator.start(durationMs,exports.getAnimationData(viewPort.cameras,sozi.document.frames[index].states,zoomPercent,profile,useTransitionPath,reverseTransitionPath));sozi.events.fire(&quot;sozi.player.framechange&quot;,index)};exports.jumpToFirst=function(){exports.jumpToFrame(0)};exports.moveToFirst=function(){exports.moveToFrame(0)};exports.jumpToPrevious=function(){var index=exports.currentFrameIndex;if(!animator.started||sourceFrameIndex&lt;=exports.currentFrameIndex){index-=1}if(index&gt;=0){exports.jumpToFrame(index)}};exports.moveToPrevious=function(){for(var index=exports.currentFrameIndex-1;index&gt;=0;index-=1){var frame=sozi.document.frames[index];if(!frame.timeoutEnable||frame.timeoutMs!==0){exports.moveToFrame(index);break}}};exports.jumpToNext=function(){var index=exports.currentFrameIndex;if(!animator.started||sourceFrameIndex&gt;=exports.currentFrameIndex){index+=1}if(index&lt;sozi.document.frames.length){exports.jumpToFrame(index)}};exports.moveToNext=function(){if(exports.currentFrameIndex&lt;sozi.document.frames.length-1||sozi.document.frames[exports.currentFrameIndex].timeoutEnable){exports.moveToFrame((exports.currentFrameIndex+1)%sozi.document.frames.length)}};exports.jumpToLast=function(){exports.jumpToFrame(sozi.document.frames.length-1)};exports.moveToLast=function(){exports.moveToFrame(sozi.document.frames.length-1)};exports.moveToCurrent=function(){exports.moveToFrame(exports.currentFrameIndex)};exports.showAll=function(){exports.stop();sozi.events.fire(&quot;sozi.player.cleanup&quot;);animator.start(DEFAULT_DURATION_MS,exports.getAnimationData(viewPort.cameras,viewPort.getDocumentState(),DEFAULT_ZOOM_PERCENT,sozi.animation.profiles[DEFAULT_PROFILE],false,false))};function onDisplayReady(){viewPort=sozi.display.ViewPort.instance(&quot;player&quot;,sozi.document.idLayerList,true);exports.startFromIndex(sozi.location.getFrameIndex());window.setTimeout(viewPort.bind(viewPort.update),1);sozi.events.fire(&quot;sozi.player.ready&quot;)}exports.onAnimationStep=function(progress,data){for(var idLayer in data){var camera=viewPort.cameras[idLayer];camera.interpolate(data[idLayer].initialState,data[idLayer].finalState,data[idLayer].profile(progress),data[idLayer].useTransitionPath,data[idLayer].reverseTransitionPath);var ps;if(data[idLayer].zoomWidth&amp;&amp;data[idLayer].zoomWidth.k!==0){ps=progress-data[idLayer].zoomWidth.ts;camera.width=data[idLayer].zoomWidth.k*ps*ps+data[idLayer].zoomWidth.ss}if(data[idLayer].zoomHeight&amp;&amp;data[idLayer].zoomHeight.k!==0){ps=progress-data[idLayer].zoomHeight.ts;camera.height=data[idLayer].zoomHeight.k*ps*ps+data[idLayer].zoomHeight.ss}camera.setClipped(data[idLayer].finalState.clipped)}viewPort.update()};animator=sozi.animation.Animator.instance().augment({onStep:function(progress){exports.onAnimationStep(progress,this.data)},onDone:function(){for(var idLayer in this.data){viewPort.cameras[idLayer].setAtState(this.data[idLayer].finalState)}viewPort.update();sourceFrameIndex=exports.currentFrameIndex;if(playing){waitTimeout()}}});sozi.events.listen(&quot;sozi.display.ready&quot;,onDisplayReady)});</script>
  <style
     ns1:version="13.11-12104710"
     id="sozi-style">#sozi-toc text{fill:#eff;font-family:Verdana,sans-serif;font-size:12pt}#sozi-toc text:hover{fill:#0cf;cursor:pointer}#sozi-toc text.sozi-toc-current{fill:#fa4}#sozi-toc-background{stroke:#222;stroke-opacity:.1;stroke-width:10;fill:#222;fill-opacity:.9}.sozi-toc-arrow{fill:#eff;fill-opacity:.75;stroke:none}.sozi-toc-arrow:hover{fill:#0cf}#sozi-framenumber circle{stroke:#222;stroke-opacity:.1;stroke-width:4;fill:#222;fill-opacity:.9}#sozi-framenumber text{fill:#eff;font-family:Verdana,sans-serif;font-size:12pt}</style>
  <script
     ns1:version="13.11-12104710"
     id="sozi-extras-media-script">this.addEventListener(&quot;load&quot;,function(){var svgNs=&quot;http://www.w3.org/2000/svg&quot;,soziNs=&quot;http://sozi.baierouge.fr&quot;,xhtmlNs=&quot;http://www.w3.org/1999/xhtml&quot;,window=this,document=window.document,mediaSources=[],mediaList,i,j,k,rect,foreignObject,html,htmlMedia,htmlSource;function clickHandler(evt){evt.stopPropagation()}function registerFrameChangeHandler(htmlMedia,startFrame,stopFrame){sozi.events.listen(&quot;sozi.player.framechange&quot;,function(index){var frameId=sozi.document.frames[index].id;if(frameId===startFrame){htmlMedia.play()}else if(frameId===stopFrame){htmlMedia.pause()}})}mediaSources.push(document.getElementsByTagNameNS(soziNs,&quot;video&quot;));mediaSources.push(document.getElementsByTagNameNS(soziNs,&quot;audio&quot;));mediaList=[];for(k=0;k&lt;mediaSources.length;k+=1){for(i=0;i&lt;mediaSources[k].length;i+=1){rect=mediaSources[k][i].parentNode;htmlSource=document.createElementNS(xhtmlNs,&quot;source&quot;);htmlSource.setAttribute(&quot;type&quot;,mediaSources[k][i].getAttributeNS(soziNs,&quot;type&quot;));htmlSource.setAttribute(&quot;src&quot;,mediaSources[k][i].getAttributeNS(soziNs,&quot;src&quot;));for(j=0;j&lt;mediaList.length;j+=1){if(mediaList[j].rect===rect){break}}if(j===mediaList.length){rect.setAttribute(&quot;visibility&quot;,&quot;hidden&quot;);htmlMedia=document.createElementNS(xhtmlNs,mediaSources[k][i].localName);htmlMedia.setAttribute(&quot;controls&quot;,&quot;controls&quot;);if(mediaSources[k][i].localName===&quot;video&quot;){htmlMedia.setAttribute(&quot;width&quot;,rect.getAttribute(&quot;width&quot;));htmlMedia.setAttribute(&quot;height&quot;,rect.getAttribute(&quot;height&quot;))}htmlMedia.addEventListener(&quot;click&quot;,clickHandler,false);htmlMedia.addEventListener(&quot;contextmenu&quot;,clickHandler,false);html=document.createElementNS(xhtmlNs,&quot;html&quot;);html.appendChild(htmlMedia);foreignObject=document.createElementNS(svgNs,&quot;foreignObject&quot;);foreignObject.setAttribute(&quot;x&quot;,rect.getAttribute(&quot;x&quot;));foreignObject.setAttribute(&quot;y&quot;,rect.getAttribute(&quot;y&quot;));foreignObject.setAttribute(&quot;width&quot;,rect.getAttribute(&quot;width&quot;));foreignObject.setAttribute(&quot;height&quot;,rect.getAttribute(&quot;height&quot;));foreignObject.appendChild(html);rect.parentNode.insertBefore(foreignObject,rect.nextSibling);if(mediaSources[k][i].hasAttributeNS(soziNs,&quot;start-frame&quot;)){registerFrameChangeHandler(htmlMedia,mediaSources[k][i].getAttributeNS(soziNs,&quot;start-frame&quot;),mediaSources[k][i].getAttributeNS(soziNs,&quot;stop-frame&quot;))}mediaList.push({rect:mediaSources[k][i].parentNode,htmlMedia:htmlMedia})}mediaList[j].htmlMedia.appendChild(htmlSource)}}},false);</script>
</svg>
